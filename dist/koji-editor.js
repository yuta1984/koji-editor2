!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.KojiEditor=t():e.KojiEditor=t()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0});var i=n(10);function o(e){return function(t,n,r){var i=r.value;r.value=function(){this.prevState=this.state,i.apply(this,arguments),this.$trigger(e)}}}var s=new(function(){function e(){this.state={src:{text:""},requestedSrc:"",selection:{start:0,end:0},requestedSelection:{start:0,end:0},selectedRects:[],caretPos:{x:0,y:0},input:{text:"",selection:{start:0,end:0}},scroll:0,scrollWidth:0,editorSize:{width:0,height:0},focus:!1,compositionActive:!1,compositionText:"",compositionRects:[],keyboardEvent:null,proposedCaretPos:0},this.handlers={src:[],requestedSrc:[],selection:[],requestedSelection:[],selectedRects:[],input:[],focus:[],scroll:[],scrollWidth:[],editorSize:[],caretPos:[],compositionActive:[],compositionText:[],compositionRects:[],keyboardEvent:[],proposedCaretPos:[]}}return Object.defineProperty(e.prototype,"selectedText",{get:function(){var e=this.state.selection,t=e.start,n=e.end;return this.state.src.text.slice(t,t+n)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectionWithLineNum",{get:function(){for(var e=this.state.selection,t=e.start,n=e.end,r=this.state.src.text,i=0,o=0,s=0,a=0,l=0;l<n;l++)l<t&&("\n"===r[l]?(i++,o=0):o++),l<=n&&("\n"===r[l]?(s++,a=0):a++);return{start:{linenum:i,pos:o},end:{linenum:s,pos:a}}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lines",{get:function(){return this.state.src.text.split("\n")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"prevSelectedLines",{get:function(){for(var e=0,t=0,n=this.state.input.text,r=this.state.input.selection,i=0;i<r.end;i++)"\n"==n.charAt(i)&&(i<=r.start&&e++,i<=r.end&&t++);return{start:e,end:t}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentSelectedLines",{get:function(){for(var e=0,t=0,n=this.state.src.text,r=this.state.selection,i=0;i<r.end;i++)"\n"==n.charAt(i)&&(i<=r.start&&e++,i<=r.end&&t++);return{start:e,end:t}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentLine",{get:function(){return this.state.src.text.split("\n")[this.currentSelectedLines.end]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentPos",{get:function(){var e=this.state.selection,t=this.state.src.text.slice(0,e.end).split("\n");return{line:t.length-1,char:t[t.length-1].length}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"prevPos",{get:function(){var e=this.state.input.selection,t=this.state.input.text.slice(0,e.end).split("\n");return 0==t.length?{line:0,char:0}:{line:t.length-1,char:t[t.length-1].length}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"prevLine",{get:function(){return this.state.src.text.split("\n")[this.currentSelectedLines.start-1]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nextLine",{get:function(){return this.state.src.text.split("\n")[this.currentSelectedLines.end+1]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRegionSelected",{get:function(){return this.state.selection.start!=this.state.selection.end},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputHasSelection",{get:function(){var e=this.state.input.selection;return e.start!=e.end},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nextChar",{get:function(){var e=this.state.input.selection.end;return this.state.input.text[e]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"prevChar",{get:function(){var e=this.state.input.selection.start;return this.state.input.text[e-1]},enumerable:!0,configurable:!0}),e.prototype.SET_REQUESTED_SRC=function(e){this.state.requestedSrc=e},e.prototype.SET_INPUT=function(e){this.state.input.inputEvent=e.inputEvent,this.state.input.selection=this.state.selection,this.state.input.text=this.state.src.text,this.state.src.text=e.srcText,this.state.selection=e.selection},e.prototype.SET_FOCUS=function(e){this.state.focus=e},e.prototype.SET_SELECTION=function(e){this.state.selection=e},e.prototype.SET_REQUESTED_SELECTION=function(e){this.state.requestedSelection=e},e.prototype.SET_SELETECTED_RECTS=function(e){this.state.selectedRects=e},e.prototype.SET_SCROLL=function(e){this.state.scroll=e},e.prototype.SET_SCROLL_WIDTH=function(e){this.state.scrollWidth=e},e.prototype.SET_EDITOR_SIZE=function(e,t){this.state.editorSize={width:e,height:t}},e.prototype.SET_CARET_POS=function(e,t){this.state.caretPos={x:e,y:t}},e.prototype.SET_COMPOSITION_ACTIVE=function(e){this.state.compositionActive=e},e.prototype.SET_COMPOSITION_TEXT=function(e){this.state.compositionText=e},e.prototype.SET_COMPOSITION_RECTS=function(e){this.state.compositionRects=e},e.prototype.SET_KEYBOARD_EVENT=function(e){this.state.keyboardEvent=e},e.prototype.SET_PROPOSED_CARET_POS=function(e){this.state.proposedCaretPos=e},e.prototype.$trigger=function(e){var t=this;i.isArray(e)?e.forEach((function(e){t.handlers[e].forEach((function(e){e.apply(this)}))})):this.handlers[e].forEach((function(e){e.apply(this)}))},e.prototype.$watch=function(e,t){var n=this;i.isArray(e)?e.forEach((function(e){return n.handlers[e].push(t)})):this.handlers[e].push(t)},r([o("requestedSrc")],e.prototype,"SET_REQUESTED_SRC",null),r([o("src")],e.prototype,"SET_INPUT",null),r([o("focus")],e.prototype,"SET_FOCUS",null),r([o("selection")],e.prototype,"SET_SELECTION",null),r([o("requestedSelection")],e.prototype,"SET_REQUESTED_SELECTION",null),r([o("selectedRects")],e.prototype,"SET_SELETECTED_RECTS",null),r([o("scroll")],e.prototype,"SET_SCROLL",null),r([o("scrollWidth")],e.prototype,"SET_SCROLL_WIDTH",null),r([o("editorSize")],e.prototype,"SET_EDITOR_SIZE",null),r([o("caretPos")],e.prototype,"SET_CARET_POS",null),r([o("compositionActive")],e.prototype,"SET_COMPOSITION_ACTIVE",null),r([o("compositionText")],e.prototype,"SET_COMPOSITION_TEXT",null),r([o("compositionRects")],e.prototype,"SET_COMPOSITION_RECTS",null),r([o("keyboardEvent")],e.prototype,"SET_KEYBOARD_EVENT",null),r([o("proposedCaretPos")],e.prototype,"SET_PROPOSED_CARET_POS",null),e}());window.store=s,t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.components=[]}return e.prototype.observeEl=function(e,t){for(var n in e)this.$el.addEventListener(n,t)},e.prototype.h=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=document.createElement(e),i=0,o=t;i<o.length;i++){var s=o[i];r.classList.add(s)}return r},e.prototype.add=function(e){this.components.push(e),this.$el.appendChild(e.$el)},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.pos=0,this.line=0,this.col=0,this.input=e}return e.prototype.next=function(){var e=this.input.charAt(this.pos++);return"\n"===e?(this.line++,this.col=0):this.col++,e},e.prototype.peek=function(){return this.input[this.pos]},e.prototype.eof=function(){return void 0===this.peek()},e.prototype.croak=function(e){throw new Error(e+" ("+this.line+":"+this.col+")")},e}();t.InputStream=r;var i=function(){function e(e){this.current=null,this.is=new r(e)}return e.prototype.peek=function(){return this.current||(this.current=this.readNext())},e.prototype.next=function(){var e=this.current;return this.current=null,e||this.readNext()},e.prototype.eof=function(){return null==this.peek()},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(4);var r=n(8);t.Editor=r.default},function(e,t,n){var r=n(5),i=n(6);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1},s=(r(e.i,i,o),i.locals?i.locals:{});e.exports=s},function(e,t,n){"use strict";var r,i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),s={};function a(e,t,n){for(var r=0;r<t.length;r++){var i={css:t[r][1],media:t[r][2],sourceMap:t[r][3]};s[e][r]?s[e][r](i):s[e].push(y(i,n))}}function l(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var s=o(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var u,c=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function p(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=c(t,i);else{var o=document.createTextNode(i),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(o,s[t]):e.appendChild(o)}}function d(e,t,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),o&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var f=null,h=0;function y(e,t){var n,r,i;if(t.singleton){var o=h++;n=f||(f=l(t)),r=p.bind(null,n,o,!1),i=p.bind(null,n,o,!0)}else n=l(t),r=d.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t,n){return(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=i()),e=n.base?e+n.base:e,t=t||[],s[e]||(s[e]=[]),a(e,t,n),function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){s[e]||(s[e]=[]),a(e,t,n);for(var r=t.length;r<s[e].length;r++)s[e][r]();s[e].length=t.length,0===s[e].length&&delete s[e]}}}},function(e,t,n){(t=n(7)(!1)).push([e.i,"@import url(http://fonts.googleapis.com/earlyaccess/notosansjapanese.css);"]),t.push([e.i,'@keyframes blink{75%{opacity:0}}.koji-editor-textarea{width:500px;height:500px;margin:0;padding:0;border:none;font-size:14px;font-family:"Noto Sans JP", sans-serif;transform:rotate(90deg);opacity:0.3;position:fixed;top:100px;left:100px;z-index:999999;line-height:20px;overflow-y:scroll}.koji-editor-display{width:500px;height:500px;margin:0;padding:0;border:none;font-size:14px;font-family:"Noto Sans JP", sans-serif;top:100px;left:100px;border:1px solid #b4b4b4;position:fixed;writing-mode:vertical-rl;overflow-x:scroll;overflow-y:hidden}.koji-editor-display .koji-editor-overlay{position:absolute;height:100%;min-width:100%;writing-mode:vertical-rl;position:relative}.koji-editor-display .koji-editor-overlay .koji-editor-caret{position:absolute;border-top:1px solid black;width:16px;height:1px;animation:blink 1s step-end infinite}.koji-editor-display .koji-editor-overlay .koji-editor-selection{position:absolute;background:#f00;opacity:0.5;z-index:100}.koji-editor-display .koji-editor-overlay .koji-editor-composition-bar{position:absolute;border-left:1px solid black;z-index:101}.koji-editor-display .koji-editor-src-panel{min-width:100%;position:absolute;height:100%;writing-mode:vertical-rl}.koji-editor-display .koji-editor-src-panel .koji-editor-line{min-width:20px;line-height:20px;height:100%;margin:0;padding:0;border:none}.koji-editor-display .koji-editor-src-panel .FURIGANA_START,.koji-editor-display .koji-editor-src-panel .FURIGANA,.koji-editor-display .koji-editor-src-panel .FURIGANA_END{color:blue}.koji-editor-display .koji-editor-src-panel .UNKNOWN{background-color:yellow}.koji-editor-display .koji-editor-src-panel .ANNO_START,.koji-editor-display .koji-editor-src-panel .ANNO_END,.koji-editor-display .koji-editor-src-panel .ANNOTATION{color:red}\n',""]),e.exports=t},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=(s=r,a=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(l," */")),o=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot).concat(e," */")}));return[n].concat(o).concat([i]).join("\n")}var s,a,l;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r=0;r<e.length;r++){var i=[].concat(e[r]);n&&(i[2]?i[2]="".concat(n," and ").concat(i[2]):i[2]=n),t.push(i)}},t}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),s=n(14),a=n(1),l=n(0),u=function(e){function t(t,n){var r=e.call(this)||this;return r.$el=document.createElement("div"),r.$el.classList.add("koji-editor"),r.add(new o.default),r.add(new s.default),t.appendChild(r.$el),l.default.SET_REQUESTED_SRC(n),r}return i(t,e),t}(a.default);t.default=u},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),s=function(e){function t(){var t=e.call(this)||this;return t.$el=document.createElement("textarea"),t.$el.classList.add("koji-editor-textarea"),t.observeFocus(),t.observeInput(),t.observeSelection(),t.observeScroll(),t.observeResize(),t.observeComposition(),t.observeKeyEvent(),setTimeout((function(){return o.default.SET_EDITOR_SIZE(t.$el.clientWidth,t.$el.clientHeight)}),100),o.default.$watch("requestedSrc",(function(){var e=o.default.state.requestedSrc;t.$el.value=e,o.default.SET_INPUT({srcText:e,selection:{start:0,end:0}})})),o.default.$watch("requestedSelection",(function(){var e=o.default.state.requestedSelection;t.$el.selectionStart=e.start,t.$el.selectionEnd=e.end})),t}return i(t,e),t.prototype.observeFocus=function(){this.$el.addEventListener("focus",(function(){o.default.SET_FOCUS(!0)})),this.$el.addEventListener("blur",(function(){o.default.SET_FOCUS(!1)}))},t.prototype.observeInput=function(){var e=this;this.$el.addEventListener("input",(function(t){o.default.SET_INPUT({srcText:e.$el.value,inputEvent:t,selection:{start:e.$el.selectionStart,end:e.$el.selectionEnd}})})),o.default.SET_SELECTION({start:this.$el.selectionStart,end:this.$el.selectionEnd})},t.prototype.observeSelection=function(){var e=this;document.addEventListener("selectionchange",(function(){document.activeElement==e.$el&&(e.$el.selectionStart===o.default.state.selection.start&&e.$el.selectionEnd===o.default.state.selection.end||o.default.SET_SELECTION({start:e.$el.selectionStart,end:e.$el.selectionEnd}))}))},t.prototype.observeScroll=function(){var e=this;this.$el.addEventListener("scroll",(function(t){o.default.SET_SCROLL_WIDTH(e.$el.scrollHeight),o.default.SET_SCROLL(e.$el.scrollTop)}))},t.prototype.observeResize=function(){var e=this;this.$el.addEventListener("resize",(function(t){o.default.SET_SCROLL(e.$el.scrollTop)}))},t.prototype.observeComposition=function(){this.$el.addEventListener("compositionstart",(function(e){o.default.SET_COMPOSITION_ACTIVE(!0),o.default.SET_COMPOSITION_RECTS([])})),this.$el.addEventListener("compositionupdate",(function(e){o.default.SET_COMPOSITION_TEXT(e.data),o.default.SET_COMPOSITION_ACTIVE(!0)})),this.$el.addEventListener("compositionend",(function(e){o.default.SET_COMPOSITION_ACTIVE(!1),o.default.SET_COMPOSITION_RECTS([])}))},t.prototype.observeKeyEvent=function(){this.$el.addEventListener("keydown",(function(e){o.default.SET_KEYBOARD_EVENT(e)}))},t}(n(1).default);t.default=s},function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},i=/%[sdj%]/g;t.format=function(e){if(!g(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(a(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,s=String(e).replace(i,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),l=r[n];n<o;l=r[++n])y(l)||!E(l)?s+=" "+l:s+=" "+a(l);return s},t.deprecate=function(n,r){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var o,s={};function a(e,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),h(n)?r.showHidden=n:n&&t._extend(r,n),S(r.showHidden)&&(r.showHidden=!1),S(r.depth)&&(r.depth=2),S(r.colors)&&(r.colors=!1),S(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=l),c(r,e,r.depth)}function l(e,t){var n=a.styles[t];return n?"["+a.colors[n][0]+"m"+e+"["+a.colors[n][1]+"m":e}function u(e,t){return e}function c(e,n,r){if(e.customInspect&&n&&O(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return g(i)||(i=c(e,i,r)),i}var o=function(e,t){if(S(t))return e.stylize("undefined","undefined");if(g(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(v(t))return e.stylize(""+t,"number");if(h(t))return e.stylize(""+t,"boolean");if(y(t))return e.stylize("null","null")}(e,n);if(o)return o;var s=Object.keys(n),a=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(n)),T(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return p(n);if(0===s.length){if(O(n)){var l=n.name?": "+n.name:"";return e.stylize("[Function"+l+"]","special")}if(b(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(m(n))return e.stylize(Date.prototype.toString.call(n),"date");if(T(n))return p(n)}var u,E="",_=!1,x=["{","}"];(f(n)&&(_=!0,x=["[","]"]),O(n))&&(E=" [Function"+(n.name?": "+n.name:"")+"]");return b(n)&&(E=" "+RegExp.prototype.toString.call(n)),m(n)&&(E=" "+Date.prototype.toUTCString.call(n)),T(n)&&(E=" "+p(n)),0!==s.length||_&&0!=n.length?r<0?b(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),u=_?function(e,t,n,r,i){for(var o=[],s=0,a=t.length;s<a;++s)C(t,String(s))?o.push(d(e,t,n,r,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(d(e,t,n,r,i,!0))})),o}(e,n,r,a,s):s.map((function(t){return d(e,n,r,a,t,_)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(u,E,x)):x[0]+E+x[1]}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,r,i,o){var s,a,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(a=e.stylize("[Setter]","special")),C(r,i)||(s="["+i+"]"),a||(e.seen.indexOf(l.value)<0?(a=y(n)?c(e,l.value,null):c(e,l.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),S(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function f(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function y(e){return null===e}function v(e){return"number"==typeof e}function g(e){return"string"==typeof e}function S(e){return void 0===e}function b(e){return E(e)&&"[object RegExp]"===_(e)}function E(e){return"object"==typeof e&&null!==e}function m(e){return E(e)&&"[object Date]"===_(e)}function T(e){return E(e)&&("[object Error]"===_(e)||e instanceof Error)}function O(e){return"function"==typeof e}function _(e){return Object.prototype.toString.call(e)}function x(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(S(o)&&(o=e.env.NODE_DEBUG||""),n=n.toUpperCase(),!s[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var r=e.pid;s[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else s[n]=function(){};return s[n]},t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=f,t.isBoolean=h,t.isNull=y,t.isNullOrUndefined=function(e){return null==e},t.isNumber=v,t.isString=g,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=S,t.isRegExp=b,t.isObject=E,t.isDate=m,t.isError=T,t.isFunction=O,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(12);var L=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(){var e=new Date,t=[x(e.getHours()),x(e.getMinutes()),x(e.getSeconds())].join(":");return[e.getDate(),L[e.getMonth()],t].join(" ")}function C(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",k(),t.format.apply(t,arguments))},t.inherits=n(13),t._extend=function(e,t){if(!t||!E(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var w="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function j(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(w&&e[w]){var t;if("function"!=typeof(t=e[w]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,w,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,i)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),w&&Object.defineProperty(t,w,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=w,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return i.apply(o,arguments)};t.apply(this,n).then((function(t){e.nextTick(s,null,t)}),(function(t){e.nextTick(j,t,s)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n(11))},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var l,u=[],c=!1,p=-1;function d(){c&&l&&(c=!1,l.length?u=l.concat(u):p=-1,u.length&&f())}function f(){if(!c){var e=a(d);c=!0;for(var t=u.length;t;){for(l=u,u=[];++p<t;)l&&l[p].run();p=-1,t=u.length}l=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function y(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||c||a(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=n(0),a=n(15),l=n(16),u=function(e){function t(){var t=e.call(this)||this;t.$el=t.h("div","koji-editor-display"),t.srcPanel=t.h("div","koji-editor-src-panel"),t.$el.appendChild(t.srcPanel);var n=t.h("div","koji-editor-line");return t.srcPanel.appendChild(n),t.add(new l.default),s.default.$watch("src",(function(){return t.onSrcChange()})),s.default.$watch(["selection","src","focus"],(function(){t.updateSelecttionRects(),t.updateCaretPos()})),s.default.$watch("scroll",(function(){var e=t.$el.scrollWidth-t.$el.clientWidth-s.default.state.scroll;t.$el.scrollTo(e,0)})),s.default.$watch("keyboardEvent",(function(){var e=s.default.state.keyboardEvent;e&&["ArrowUp","ArrowLeft","ArrowRight","ArrowDown"].includes(e.key)&&(s.default.SET_REQUESTED_SELECTION(t.proposeSelection(e)),e.preventDefault())})),t}return i(t,e),Object.defineProperty(t.prototype,"lines",{get:function(){return this.$el.getElementsByClassName("koji-editor-line")},enumerable:!0,configurable:!0}),t.prototype.proposeSelection=function(e){var t=s.default.state.src.text,n=s.default.selectionWithLineNum,r=s.default.state.selection,i=r.start,o=r.end;switch(e.key){case"ArrowUp":if(i>0)return e.shiftKey?{start:i-1,end:o}:{start:i-1,end:i-1};break;case"ArrowDown":if(o<t.length)return e.shiftKey?{start:i,end:o+1}:{start:o+1,end:o+1};case"ArrowRight":var a=s.default.prevLine,l=0;return void 0===a?{start:i,end:o}:(l=n.start.pos<=a.length?this.inlinePosToAbsolutePos(n.start.linenum-1,n.start.pos):i-n.end.pos-1,e.shiftKey?{start:l,end:o}:{start:l,end:l});case"ArrowLeft":var u=s.default.nextLine;console.log("next line",u);var c=0;return void 0===u?{start:i,end:o}:(c=n.end.pos<=u.length?this.inlinePosToAbsolutePos(n.end.linenum+1,n.end.pos):this.inlinePosToAbsolutePos(n.end.linenum+1,u.length),e.shiftKey?{start:i,end:c}:{start:c,end:c})}return{start:i,end:o}},t.prototype.inlinePosToAbsolutePos=function(e,t){var n=s.default.state.src.text,r=0;return n.split("\n").slice(0,e).forEach((function(e){return r+=e.length+1})),r+=t},t.prototype.resize=function(e,t){this.$el.style.width=e+"px",this.$el.style.height=t+"px"},t.prototype.renderLine=function(e){var t=new a.default(e).tokenize().map((function(e){return'<span class="token '+e.type+'">'+e.value+"</span>"})).join(""),n=this.h("div","koji-editor-line");return n.innerHTML=t,n},t.prototype.lineAt=function(e){return this.srcPanel.childNodes.item(e)},t.prototype.deleteLines=function(e){for(var t=[],n=e.start;n<=e.end;n++)t.push(this.lineAt(n));for(var r=0,i=t;r<i.length;r++){var o=i[r];o&&this.srcPanel.removeChild(o)}},t.prototype.insertLineAt=function(e,t){var n,r=this.renderLine(e),i=this.srcPanel.getElementsByClassName("koji-editor-line");0==i.length?this.srcPanel.appendChild(r):(n=t<i.length?i[t]:i[-1],this.srcPanel.insertBefore(r,n))},t.prototype.renderAll=function(){var e=this;this.srcPanel.innerHTML="",s.default.state.src.text.split("\n").forEach((function(t){var n=e.renderLine(t);e.srcPanel.appendChild(n)}))},t.prototype.updateCaretPos=function(){var e=s.default.selectionWithLineNum,t=this.$el.getElementsByClassName("koji-editor-line")[e.start.linenum],n=this.srcPanel.getBoundingClientRect();if(t.textContent){var r=this.createRelativeRect(t,e.start.pos,e.end.pos);s.default.SET_CARET_POS(r.x,r.y)}else{r=t.getBoundingClientRect();s.default.SET_CARET_POS(r.x-n.x,r.y-n.y)}},t.prototype.updateSelecttionRects=function(){var e=[],t=s.default.selectionWithLineNum,n=this.$el.getElementsByClassName("koji-editor-line");if(t.start.linenum==t.end.linenum){if((l=n[t.start.linenum]).textContent){var r=this.createRelativeRect(l,t.start.pos,t.end.pos);e.push(r)}}else{var i=n[t.start.linenum],o=n[t.end.linenum];i.textContent&&e.push(this.createRelativeRect(i,t.start.pos,i.textContent.length)),o.textContent&&e.push(this.createRelativeRect(o,0,t.end.pos));for(var a=t.start.linenum+1;a<t.end.linenum;a++){var l;(l=n[a]).textContent&&e.push(this.createRelativeRect(l,0,l.textContent.length))}}s.default.SET_SELETECTED_RECTS(e)},t.prototype.getLinePos=function(e){for(var t=s.default.state.src.text,n=0,r=0,i=0;i<t.length;i++){if(i==e)return{pos:r,lineNum:n};"\n"===t[i]?(n++,r=0):r++}return{pos:r,lineNum:n}},t.prototype.selectionToRects=function(e,t){var n,r,i=[],o=this.lines,s=this.getLinePos(e),a=this.getLinePos(t);if(s.lineNum==a.lineNum){if(s.pos==a.pos)return[];var l=o[s.lineNum],u=this.createRelativeRect(l,s.pos,a.pos);i.push(u)}else{var c=o[s.lineNum],p=this.createRelativeRect(c,s.pos,(null===(n=c.textContent)||void 0===n?void 0:n.length)||0),d=o[a.lineNum],f=this.createRelativeRect(d,0,a.pos);i.push(p),i.push(f);for(var h=s.lineNum+1;h<a.lineNum;h++){l=o[h],u=this.createRelativeRect(l,0,(null===(r=l.textContent)||void 0===r?void 0:r.length)||0);i.push(u)}}return i},t.prototype.walkDOM=function(e,t){for(t(e),e=e?e.firstChild:null;e;)this.walkDOM(e,t),e=e.nextSibling},t.prototype.createRelativeRect=function(e,t,n){var r=document.createRange();if(null==e.firstChild)throw Error;var i=0,o=e,s=e,a=0,l=0;if(this.walkDOM(e,(function(e){if(e&&e.nodeType==Node.TEXT_NODE&&e.textContent)for(var r=e.textContent.split(""),u=0,c=0;c<r.length;c++)u++,++i===t&&(o=e,a=u),i===n&&(s=e,l=u)})),!o||!s)throw Error("node not found");r.setStart(o,a),r.setEnd(s,l);var u=this.srcPanel.getBoundingClientRect(),c=r.getBoundingClientRect();return c.x=c.x-u.x,c.y=c.y-u.y,r.detach(),c},t.prototype.onSrcChange=function(){if(!s.default.state.input.inputEvent)return this.renderAll();switch(s.default.state.input.inputEvent.inputType){case"insertText":this.deleteLines(s.default.prevSelectedLines),this.insertLineAt(s.default.currentLine,s.default.prevSelectedLines.end);break;case"insertLineBreak":this.deleteLines(s.default.prevSelectedLines);var e=s.default.lines[s.default.currentSelectedLines.start-1],t=s.default.lines[s.default.currentSelectedLines.start];this.insertLineAt(e,s.default.prevSelectedLines.end),this.insertLineAt(t,s.default.prevSelectedLines.end+1);break;case"insertCompositionText":this.deleteLines(s.default.prevSelectedLines),this.insertLineAt(s.default.currentLine,s.default.prevSelectedLines.end);break;case"insertFromPaste":case"insertFromPasteAsQuotation":case"insertFromDrop":case"insertReplacementText":case"insertFromYank":this.renderAll();break;case"deleteWordBackward":this.deleteLines(s.default.prevSelectedLines),this.insertLineAt(s.default.currentLine,s.default.prevSelectedLines.end);break;case"deleteWordForward":"\n"!=s.default.nextChar||s.default.inputHasSelection||this.deleteLines(s.default.prevSelectedLines),this.deleteLines(s.default.prevSelectedLines),this.insertLineAt(s.default.currentLine,s.default.prevSelectedLines.end);break;case"deleteSoftLineBackward":this.deleteLines(s.default.prevSelectedLines),this.insertLineAt(s.default.currentLine,s.default.prevSelectedLines.end);break;case"deleteSoftLineForward":"\n"!=s.default.nextChar||s.default.inputHasSelection||this.deleteLines(s.default.prevSelectedLines),this.deleteLines(s.default.prevSelectedLines),this.insertLineAt(s.default.currentLine,s.default.prevSelectedLines.end);break;case"deleteEntireSoftLine":case"deleteHardLineBackward":this.deleteLines(s.default.prevSelectedLines),this.insertLineAt(s.default.currentLine,s.default.prevSelectedLines.end);break;case"deleteHardLineForward":"\n"!=s.default.nextChar||s.default.inputHasSelection||this.deleteLines(s.default.prevSelectedLines),this.deleteLines(s.default.prevSelectedLines),this.insertLineAt(s.default.currentLine,s.default.prevSelectedLines.end);break;case"deleteByDrag":case"deleteByCut":case"deleteContent":this.renderAll();break;case"deleteContentBackward":if(0==s.default.prevPos.char){var n=s.default.prevSelectedLines,r=n.start,i=n.end;this.deleteLines({start:r-1,end:i}),this.insertLineAt(s.default.currentLine,s.default.prevSelectedLines.start-1)}else this.deleteLines(s.default.prevSelectedLines),this.insertLineAt(s.default.currentLine,s.default.prevSelectedLines.start);break;case"deleteContentForward":"\n"!=s.default.nextChar||s.default.inputHasSelection||this.deleteLines(s.default.prevSelectedLines),this.deleteLines(s.default.prevSelectedLines),this.insertLineAt(s.default.currentLine,s.default.prevSelectedLines.end);break;case"historyUndo":case"historyRedo":this.renderAll()}},t}(o.default);t.default=u},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),s=function(e){function t(t){var n=e.call(this,t)||this;return n.tokenIndex=0,n.brackets={"（":"FURIGANA_START","）":"FURIGANA_END","｛":"KAERI_START","｝":"KAERI_END","〔":"OKURIGANA_START","〕":"OKURIGANA_END","【":"ANNO_START","】":"ANNO_END"},n.is=new o.InputStream(t),n.state={brackets:[],errors:[],inInlinePre:!1,inInlineBody:!1,inBlockTag:!1,inFurigana:!1,inKaeriten:!1,inOkurigana:!1,inAnno:!1},n}return i(t,e),t.prototype.isBracket=function(e){return"（）｛｝【】〔〕".indexOf(e)>-1},t.prototype.isColon=function(e){return"："===e},t.prototype.isLetter=function(e){return[/[\u0020-\u007E]/,/[\u2000-\u206F]/,/[\u4E00-\u9FEA\u3400-\u4DFF]/,/[\u3040-\u309F]/,/[\u30A0-\u30FF\u31F0-\u31FF]/,/[\u1B000-\u1B000\u1B100-\u1B12F]/,/[\u3190-\u319F]/,/[\u3000-\u3007\u300C-\u300F\u3012-\u3013\u3016-\u303F]/,/[\uFF00-\uFF02\uFF04-\uFF07\uFF0B-\uFF0E\uFF10-\uFF19\uFF1B-\uFF3A\uFF3E-\uFF5A\uFF5E-\uFFEF]/].some((function(t){return null!=e.match(t)}))},t.prototype.isMatchingPair=function(e,t){return"《"===e&&"》"===t||"（"===e&&"）"===t||"｛"===e&&"｝"===t||"〔"===e&&"〕"===t||"［"===e&&"］"===t||"［／"===e&&"］"===t||"【"===e&&"】"===t},t.prototype.readWhile=function(e){for(var t="";!this.is.eof()&&e(this.is.peek());)t+=this.is.next();return t},t.prototype.readTextSegment=function(){var e=this.readWhile(this.isLetter);return this.state.inInlinePre?{type:"INLINE_NAME",value:e}:this.state.inBlockTag?{type:"BLOCK_NAME",value:e}:this.state.inFurigana?{type:"FURIGANA",value:e}:this.state.inKaeriten?{type:"KAERITEN",value:e}:this.state.inOkurigana?{type:"OKURIGANA",value:e}:this.state.inAnno?{type:"ANNOTATION",value:e}:{type:"TEXT_SEGMENT",value:e}},t.prototype.readBracket=function(){var e,t=this.is.next();if("｛（【〔".indexOf(t)>-1)e={type:this.brackets[t],value:t},this.state.brackets.push(e),"（"===t&&(this.state.inFurigana=!0),"｛"===t&&(this.state.inKaeriten=!0),"〔"===t&&(this.state.inOkurigana=!0),"【"===t&&(this.state.inAnno=!0);else{e={type:this.brackets[t],value:t};var n=this.state.brackets[this.state.brackets.length-1];n&&this.isMatchingPair(n.value,t)?(this.state.brackets.pop(),n.pairIndex=this.tokenIndex,e.pairIndex=n.tokenIndex):(this.state.brackets.push(e),e.error=!0,e.errorMsg="対応する括弧がありません．"),"）"===t&&(this.state.inFurigana=!1),"｝"===t&&(this.state.inKaeriten=!1),"〕"===t&&(this.state.inOkurigana=!1),"】"===t&&(this.state.inAnno=!1)}return e},t.prototype.readInlineStart=function(){var e=this.is.next();this.state.inInlinePre=!0;var t={type:"INLINE_START",value:e};return this.state.brackets.push(t),t},t.prototype.readInlineEnd=function(){var e={type:"INLINE_END",value:this.is.next()};this.state.inInlinePre=!1,this.state.inInlineBody=!1;var t=this.state.brackets[this.state.brackets.length-1];return t&&"INLINE_START"===t.type?(this.state.brackets.pop(),t.pairIndex=this.tokenIndex,e.pairIndex=t.tokenIndex):(e.error=!0,e.errorMsg="対応する括弧がありません．"),e},t.prototype.readID=function(){var e=this.is.next(),t=this.readWhile(this.isLetter);return this.state.inInlinePre||this.state.inBlockTag?{type:"ID",value:e+t}:{type:"UNKNOWN",value:e+t,error:!0,errorMsg:"ここにIDは書けません"}},t.prototype.readClass=function(){var e=this.is.next(),t=this.readWhile(this.isLetter);return this.state.inInlinePre||this.state.inBlockTag?{type:"CLASS",value:e+t}:{type:"UNKNOWN",value:e+t,error:!0,errorMsg:"ここにクラスは書けません"}},t.prototype.readBlockStart=function(){var e,t=this.is.next();return this.state.inBlockTag=!0,e="／"===this.is.peek()?{type:"BLOCK_CLOSING_START",value:t+this.is.next()}:{type:"BLOCK_START",value:t},this.state.brackets.push(e),e},t.prototype.readBlockEnd=function(){var e=this.is.next();this.state.inBlockTag=!1;var t={type:"BLOCK_END",value:e},n=this.state.brackets[this.state.brackets.length-1];return!n||"BLOCK_START"!==n.type&&"BLOCK_CLOSING_START"!==n.type?(t.error=!0,t.errorMsg="対応する括弧がありません．"):(this.state.brackets.pop(),n.pairIndex=this.tokenIndex,t.pairIndex=n.tokenIndex),t},t.prototype.readColon=function(){return this.state.inInlinePre&&(this.state.inInlinePre=!1,this.state.inInlineBody=!0),{type:"COLON",value:this.is.next()}},t.prototype.readSep=function(){return this.state.inInlineBody?{type:"INLINE_SEP",value:this.is.next()}:{type:"FURIGANA_SEP",value:this.is.next()}},t.prototype.readLineBreak=function(){var e=this.is.next();return this.state.inInlinePre||this.state.inBlockTag||this.state.inKaeriten||this.state.inOkurigana?{type:"LB",value:e,error:!0,errorMsg:"ここに改行を含めることはできません。"}:{type:"LB",value:e,error:!1}},t.prototype.readNext=function(){if(this.is.eof())return null;var e=this.is.peek(),t=this.is.pos,n=null;return"《"===e&&(n=this.readInlineStart()),"》"===e&&(n=this.readInlineEnd()),"［"===e&&(n=this.readBlockStart()),"］"===e&&(n=this.readBlockEnd()),"｜"===e&&(n=this.readSep()),"＃"===e&&(n=this.readID()),"＊"===e&&(n=this.readClass()),this.isLetter(e)&&(n=this.readTextSegment()),this.isBracket(e)&&(n=this.readBracket()),this.isColon(e)&&(n=this.readColon()),"\n"===e&&(n=this.readLineBreak()),n||(n={type:"UNKNOWN",value:e=this.is.next(),error:!0,errorMsg:"不正な文字："+e}),n.start=t,n.end=this.is.pos,n.tokenIndex=this.tokenIndex++,n},t.prototype.tokenize=function(){for(var e=[];this.peek();)e.push(this.next());return this.state.brackets.forEach((function(e){e.error=!0,e.errorMsg="対応する括弧がありません．"})),e},t}(n(2).default);t.default=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=n(0),a=function(e){function t(){var t=e.call(this)||this;return t.$el=t.h("div","koji-editor-overlay"),t.caret=t.h("span","koji-editor-caret"),t.$el.appendChild(t.caret),t.hideCaret(),t.selDivs=[],t.compositionDivs=[],s.default.$watch("editorSize",(function(){t.resize(s.default.state.editorSize.width,s.default.state.editorSize.height)})),s.default.$watch("scroll",(function(){var e=t.$el.scrollWidth-t.$el.clientWidth-s.default.state.scroll;t.$el.scrollTo(e,0)})),s.default.$watch("scrollWidth",(function(){t.$el.style.width=s.default.state.scrollWidth+"px"})),s.default.$watch("selectedRects",(function(){s.default.isRegionSelected,t.renderSelections()})),s.default.$watch(["caretPos"],(function(){return s.default.isRegionSelected?t.hideCaret():t.moveCaret()})),s.default.$watch("focus",(function(){s.default.state.focus?t.moveCaret():(t.hideCaret(),t.resetSelection())})),s.default.$watch("compositionRects",(function(){var e=s.default.state.compositionRects;t.resetCompositionRects(),e.forEach((function(e){var n=t.h("div","koji-editor-composition-bar");n.style.top=e.y+"px",n.style.left=e.x+"px",n.style.height=e.height+"px",n.style.width=e.width+"px",t.compositionDivs.push(n),t.$el.appendChild(n)}))})),t}return i(t,e),t.prototype.resetCompositionRects=function(){this.compositionDivs.forEach((function(e){e.remove()})),this.compositionDivs=[]},t.prototype.moveCaret=function(){this.caret.style.display="block",this.caret.style.top=s.default.state.caretPos.y+"px",this.caret.style.left=s.default.state.caretPos.x+"px"},t.prototype.hideCaret=function(){this.caret.style.display="none"},t.prototype.renderSelections=function(){var e=this,t=s.default.state.selectedRects;this.resetSelection(),t.forEach((function(t){var n=document.createElement("div");n.classList.add("koji-editor-selection"),n.style.width=t.width+"px",n.style.height=t.height+"px",n.style.top=t.top+"px",n.style.left=t.left+"px",e.selDivs.push(n),e.$el.appendChild(n)}))},t.prototype.resetSelection=function(){this.selDivs.forEach((function(e){return e.remove()})),this.selDivs=[]},t.prototype.resize=function(e,t){this.$el.style.width=e+"px",this.$el.style.height=t+"px"},t}(o.default);t.default=a}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Lb2ppRWRpdG9yL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9Lb2ppRWRpdG9yL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL0tvamlFZGl0b3IvLi9zdG9yZS9pbmRleC50cyIsIndlYnBhY2s6Ly9Lb2ppRWRpdG9yLy4vY29tcG9uZW50cy9CYXNlQ29tcG9uZW50LnRzIiwid2VicGFjazovL0tvamlFZGl0b3IvLi90b2tlbml6ZXJzL1Rva2VuaXplci50cyIsIndlYnBhY2s6Ly9Lb2ppRWRpdG9yLy4vbWFpbi50cyIsIndlYnBhY2s6Ly9Lb2ppRWRpdG9yLy4vc3R5bGUuc2Nzcz8zZmNjIiwid2VicGFjazovL0tvamlFZGl0b3IvLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovL0tvamlFZGl0b3IvLi9zdHlsZS5zY3NzIiwid2VicGFjazovL0tvamlFZGl0b3IvLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly9Lb2ppRWRpdG9yLy4vY29tcG9uZW50cy9FZGl0b3IudHMiLCJ3ZWJwYWNrOi8vS29qaUVkaXRvci8uL2NvbXBvbmVudHMvSGlkZGVuVGV4dEFyZWEudHMiLCJ3ZWJwYWNrOi8vS29qaUVkaXRvci8uLi9ub2RlX21vZHVsZXMvdXRpbC91dGlsLmpzIiwid2VicGFjazovL0tvamlFZGl0b3IvLi4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly9Lb2ppRWRpdG9yLy4uL25vZGVfbW9kdWxlcy91dGlsL3N1cHBvcnQvaXNCdWZmZXJCcm93c2VyLmpzIiwid2VicGFjazovL0tvamlFZGl0b3IvLi4vbm9kZV9tb2R1bGVzL3V0aWwvbm9kZV9tb2R1bGVzL2luaGVyaXRzL2luaGVyaXRzX2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vS29qaUVkaXRvci8uL2NvbXBvbmVudHMvRGlzcGxheS50cyIsIndlYnBhY2s6Ly9Lb2ppRWRpdG9yLy4vdG9rZW5pemVycy9Lb2ppVG9rZW5pemVyLnRzIiwid2VicGFjazovL0tvamlFZGl0b3IvLi9jb21wb25lbnRzL092ZXJsYXkudHMiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwid2luZG93IiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIk11dGF0aW9uIiwic3RhdGUiLCJ0YXJnZXQiLCJkZXNjcmlwdG9yIiwibWV0aG9kIiwidGhpcyIsInByZXZTdGF0ZSIsImFwcGx5IiwiYXJndW1lbnRzIiwiJHRyaWdnZXIiLCJzdG9yZSIsInNyYyIsInRleHQiLCJyZXF1ZXN0ZWRTcmMiLCJzZWxlY3Rpb24iLCJzdGFydCIsImVuZCIsInJlcXVlc3RlZFNlbGVjdGlvbiIsInNlbGVjdGVkUmVjdHMiLCJjYXJldFBvcyIsIngiLCJ5IiwiaW5wdXQiLCJzY3JvbGwiLCJzY3JvbGxXaWR0aCIsImVkaXRvclNpemUiLCJ3aWR0aCIsImhlaWdodCIsImZvY3VzIiwiY29tcG9zaXRpb25BY3RpdmUiLCJjb21wb3NpdGlvblRleHQiLCJjb21wb3NpdGlvblJlY3RzIiwia2V5Ym9hcmRFdmVudCIsInByb3Bvc2VkQ2FyZXRQb3MiLCJoYW5kbGVycyIsInNsaWNlIiwic2xpbmUiLCJzcG9zIiwiZWxpbmUiLCJlcG9zIiwibGluZW51bSIsInBvcyIsInNwbGl0IiwiY2hhckF0IiwiY3VycmVudFNlbGVjdGVkTGluZXMiLCJsaW5lcyIsImxpbmUiLCJsZW5ndGgiLCJjaGFyIiwiaWR4IiwiU0VUX1JFUVVFU1RFRF9TUkMiLCJTRVRfSU5QVVQiLCJwYXlsb2FkIiwiaW5wdXRFdmVudCIsInNyY1RleHQiLCJTRVRfRk9DVVMiLCJTRVRfU0VMRUNUSU9OIiwic2VsIiwiU0VUX1JFUVVFU1RFRF9TRUxFQ1RJT04iLCJTRVRfU0VMRVRFQ1RFRF9SRUNUUyIsIlNFVF9TQ1JPTEwiLCJTRVRfU0NST0xMX1dJRFRIIiwiU0VUX0VESVRPUl9TSVpFIiwiU0VUX0NBUkVUX1BPUyIsIlNFVF9DT01QT1NJVElPTl9BQ1RJVkUiLCJTRVRfQ09NUE9TSVRJT05fVEVYVCIsIlNFVF9DT01QT1NJVElPTl9SRUNUUyIsIlNFVF9LRVlCT0FSRF9FVkVOVCIsIlNFVF9QUk9QT1NFRF9DQVJFVF9QT1MiLCJpc0FycmF5IiwiZm9yRWFjaCIsImgiLCIkd2F0Y2giLCJoYW5kbGVyIiwicHVzaCIsImNvbXBvbmVudHMiLCJvYnNlcnZlRWwiLCJldmVudE5hbWVzIiwiJGVsIiwiYWRkRXZlbnRMaXN0ZW5lciIsImVsZW1OYW1lIiwiZWxlbSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImNscyIsImNsYXNzTGlzdCIsImFkZCIsImNvbXAiLCJhcHBlbmRDaGlsZCIsImNvbCIsIm5leHQiLCJjaCIsInBlZWsiLCJlb2YiLCJ1bmRlZmluZWQiLCJjcm9hayIsIm1zZyIsIkVycm9yIiwiSW5wdXRTdHJlYW0iLCJjdXJyZW50IiwiaXMiLCJyZWFkTmV4dCIsInRvayIsImRlZmF1bHQiLCJhcGkiLCJjb250ZW50Iiwib3B0aW9ucyIsImV4cG9ydGVkIiwibG9jYWxzIiwibWVtbyIsImlzT2xkSUUiLCJCb29sZWFuIiwiYWxsIiwiYXRvYiIsImdldFRhcmdldCIsInN0eWxlVGFyZ2V0IiwicXVlcnlTZWxlY3RvciIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsImUiLCJzdHlsZXNJbkRvbSIsIm1vZHVsZXNUb0RvbSIsImxpc3QiLCJwYXJ0IiwiY3NzIiwibWVkaWEiLCJzb3VyY2VNYXAiLCJhZGRTdHlsZSIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlIiwiYXR0cmlidXRlcyIsIm5vbmNlIiwia2V5cyIsInNldEF0dHJpYnV0ZSIsImluc2VydCIsInRleHRTdG9yZSIsInJlcGxhY2VUZXh0IiwiaW5kZXgiLCJyZXBsYWNlbWVudCIsImZpbHRlciIsImpvaW4iLCJhcHBseVRvU2luZ2xldG9uVGFnIiwicmVtb3ZlIiwib2JqIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjc3NOb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJjaGlsZE5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJhcHBseVRvVGFnIiwicmVtb3ZlQXR0cmlidXRlIiwiYnRvYSIsImNvbmNhdCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImZpcnN0Q2hpbGQiLCJzaW5nbGV0b24iLCJzaW5nbGV0b25Db3VudGVyIiwidXBkYXRlIiwic3R5bGVJbmRleCIsInBhcmVudE5vZGUiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJuZXdPYmoiLCJiYXNlIiwibmV3TGlzdCIsInRvU3RyaW5nIiwiaiIsIl9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyIsInVzZVNvdXJjZU1hcCIsIm1hcCIsIml0ZW0iLCJjc3NNYXBwaW5nIiwic291cmNlTWFwcGluZyIsImJhc2U2NCIsImRhdGEiLCJzb3VyY2VVUkxzIiwic291cmNlcyIsInNvdXJjZSIsInNvdXJjZVJvb3QiLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwibWVkaWFRdWVyeSIsInBhcmVudEVsIiwib2JzZXJ2ZUZvY3VzIiwib2JzZXJ2ZUlucHV0Iiwib2JzZXJ2ZVNlbGVjdGlvbiIsIm9ic2VydmVTY3JvbGwiLCJvYnNlcnZlUmVzaXplIiwib2JzZXJ2ZUNvbXBvc2l0aW9uIiwib2JzZXJ2ZUtleUV2ZW50Iiwic2V0VGltZW91dCIsImNsaWVudFdpZHRoIiwiY2xpZW50SGVpZ2h0Iiwic2VsZWN0aW9uU3RhcnQiLCJzZWxlY3Rpb25FbmQiLCJldmVudCIsImFjdGl2ZUVsZW1lbnQiLCJzY3JvbGxIZWlnaHQiLCJzY3JvbGxUb3AiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIiwiZGVzY3JpcHRvcnMiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJmb3JtYXRSZWdFeHAiLCJmb3JtYXQiLCJmIiwiaXNTdHJpbmciLCJvYmplY3RzIiwiaW5zcGVjdCIsImFyZ3MiLCJsZW4iLCJzdHIiLCJTdHJpbmciLCJyZXBsYWNlIiwiTnVtYmVyIiwiXyIsImlzTnVsbCIsImlzT2JqZWN0IiwiZGVwcmVjYXRlIiwiZm4iLCJwcm9jZXNzIiwibm9EZXByZWNhdGlvbiIsIndhcm5lZCIsInRocm93RGVwcmVjYXRpb24iLCJ0cmFjZURlcHJlY2F0aW9uIiwiY29uc29sZSIsInRyYWNlIiwiZXJyb3IiLCJkZWJ1Z0Vudmlyb24iLCJkZWJ1Z3MiLCJvcHRzIiwiY3R4Iiwic2VlbiIsInN0eWxpemUiLCJzdHlsaXplTm9Db2xvciIsImRlcHRoIiwiY29sb3JzIiwiaXNCb29sZWFuIiwic2hvd0hpZGRlbiIsIl9leHRlbmQiLCJpc1VuZGVmaW5lZCIsImN1c3RvbUluc3BlY3QiLCJzdHlsaXplV2l0aENvbG9yIiwiZm9ybWF0VmFsdWUiLCJzdHlsZVR5cGUiLCJzdHlsZXMiLCJyZWN1cnNlVGltZXMiLCJpc0Z1bmN0aW9uIiwiY29uc3RydWN0b3IiLCJyZXQiLCJwcmltaXRpdmUiLCJzaW1wbGUiLCJpc051bWJlciIsImZvcm1hdFByaW1pdGl2ZSIsInZpc2libGVLZXlzIiwiYXJyYXkiLCJoYXNoIiwidmFsIiwiYXJyYXlUb0hhc2giLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiaXNFcnJvciIsImluZGV4T2YiLCJmb3JtYXRFcnJvciIsImlzUmVnRXhwIiwiUmVnRXhwIiwiaXNEYXRlIiwiRGF0ZSIsIm91dHB1dCIsImJyYWNlcyIsInRvVVRDU3RyaW5nIiwiZm9ybWF0UHJvcGVydHkiLCJtYXRjaCIsImZvcm1hdEFycmF5IiwicG9wIiwicmVkdWNlIiwicHJldiIsImN1ciIsIm51bUxpbmVzRXN0IiwicmVkdWNlVG9TaW5nbGVTdHJpbmciLCJkZXNjIiwic2V0Iiwic3Vic3RyIiwiYXIiLCJBcnJheSIsImFyZyIsInJlIiwib2JqZWN0VG9TdHJpbmciLCJwYWQiLCJkZWJ1Z2xvZyIsImVudiIsIk5PREVfREVCVUciLCJ0b1VwcGVyQ2FzZSIsInRlc3QiLCJwaWQiLCJpc051bGxPclVuZGVmaW5lZCIsImlzU3ltYm9sIiwiaXNQcmltaXRpdmUiLCJpc0J1ZmZlciIsIm1vbnRocyIsInRpbWVzdGFtcCIsInRpbWUiLCJnZXRIb3VycyIsImdldE1pbnV0ZXMiLCJnZXRTZWNvbmRzIiwiZ2V0RGF0ZSIsImdldE1vbnRoIiwicHJvcCIsImxvZyIsImluaGVyaXRzIiwib3JpZ2luIiwia0N1c3RvbVByb21pc2lmaWVkU3ltYm9sIiwiY2FsbGJhY2tpZnlPblJlamVjdGVkIiwicmVhc29uIiwiY2IiLCJuZXdSZWFzb24iLCJwcm9taXNpZnkiLCJvcmlnaW5hbCIsIlR5cGVFcnJvciIsIndyaXRhYmxlIiwiY29uZmlndXJhYmxlIiwicHJvbWlzZVJlc29sdmUiLCJwcm9taXNlUmVqZWN0IiwicHJvbWlzZSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZXJyIiwic2V0UHJvdG90eXBlT2YiLCJnZXRQcm90b3R5cGVPZiIsImRlZmluZVByb3BlcnRpZXMiLCJjdXN0b20iLCJjYWxsYmFja2lmeSIsImNhbGxiYWNraWZpZWQiLCJtYXliZUNiIiwic2VsZiIsInRoZW4iLCJuZXh0VGljayIsInJlaiIsImNhY2hlZFNldFRpbWVvdXQiLCJjYWNoZWRDbGVhclRpbWVvdXQiLCJkZWZhdWx0U2V0VGltb3V0IiwiZGVmYXVsdENsZWFyVGltZW91dCIsInJ1blRpbWVvdXQiLCJmdW4iLCJjbGVhclRpbWVvdXQiLCJjdXJyZW50UXVldWUiLCJxdWV1ZSIsImRyYWluaW5nIiwicXVldWVJbmRleCIsImNsZWFuVXBOZXh0VGljayIsImRyYWluUXVldWUiLCJ0aW1lb3V0IiwicnVuIiwibWFya2VyIiwicnVuQ2xlYXJUaW1lb3V0IiwiSXRlbSIsIm5vb3AiLCJ0aXRsZSIsImJyb3dzZXIiLCJhcmd2IiwidmVyc2lvbiIsInZlcnNpb25zIiwib24iLCJhZGRMaXN0ZW5lciIsIm9uY2UiLCJvZmYiLCJyZW1vdmVMaXN0ZW5lciIsInJlbW92ZUFsbExpc3RlbmVycyIsImVtaXQiLCJwcmVwZW5kTGlzdGVuZXIiLCJwcmVwZW5kT25jZUxpc3RlbmVyIiwibGlzdGVuZXJzIiwiYmluZGluZyIsImN3ZCIsImNoZGlyIiwiZGlyIiwidW1hc2siLCJjb3B5IiwiZmlsbCIsInJlYWRVSW50OCIsImN0b3IiLCJzdXBlckN0b3IiLCJzdXBlcl8iLCJUZW1wQ3RvciIsInNyY1BhbmVsIiwiZmlyc3RMaW5lIiwib25TcmNDaGFuZ2UiLCJ1cGRhdGVTZWxlY3R0aW9uUmVjdHMiLCJ1cGRhdGVDYXJldFBvcyIsIm9mZnNldCIsInNjcm9sbFRvIiwiaW5jbHVkZXMiLCJwcm9wb3NlU2VsZWN0aW9uIiwicHJldmVudERlZmF1bHQiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwic2VsZWN0aW9uV2l0aExpbmVOdW0iLCJzaGlmdEtleSIsInByZXZMaW5lIiwicmlnaHRQb3MiLCJpbmxpbmVQb3NUb0Fic29sdXRlUG9zIiwibmV4dExpbmUiLCJsZWZ0UG9zIiwibGluZU51bSIsImFic3BvcyIsInJlc2l6ZSIsInJlbmRlckxpbmUiLCJodG1sIiwidG9rZW5pemUiLCJ0eXBlIiwibGluZUVsZW0iLCJpbm5lckhUTUwiLCJsaW5lQXQiLCJudW0iLCJkZWxldGVMaW5lcyIsInJhbmdlIiwiY2hpbGRyZW4iLCJjaGlsZCIsImluc2VydExpbmVBdCIsInRhcmdldExpbmVOdW0iLCJyZW5kZXJBbGwiLCJwYXJlbnRSZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidGV4dENvbnRlbnQiLCJyZWN0IiwiY3JlYXRlUmVsYXRpdmVSZWN0IiwicmVjdHMiLCJ0YWlsIiwiZ2V0TGluZVBvcyIsImlubGluZVBvcyIsInNlbGVjdGlvblRvUmVjdHMiLCJzTGluZVBvcyIsImVMaW5lUG9zIiwiaGVhZExpbmUiLCJoZWFkUmVjdCIsInRhaWxMaW5lIiwidGFpbFJlY3QiLCJ3YWxrRE9NIiwibm9kZSIsImZ1bmMiLCJuZXh0U2libGluZyIsImNyZWF0ZVJhbmdlIiwiY291bnQiLCJzdGFydE5vZGUiLCJlbmROb2RlIiwic3RhcnRPZmZzZXQiLCJlbmRPZmZzZXQiLCJub2RlVHlwZSIsIk5vZGUiLCJURVhUX05PREUiLCJjaGFycyIsInNldFN0YXJ0Iiwic2V0RW5kIiwiZGV0YWNoIiwiaW5wdXRUeXBlIiwicHJldlNlbGVjdGVkTGluZXMiLCJjdXJyZW50TGluZSIsImxpbmUxIiwibGluZTIiLCJuZXh0Q2hhciIsImlucHV0SGFzU2VsZWN0aW9uIiwicHJldlBvcyIsInRva2VuSW5kZXgiLCJicmFja2V0cyIsImVycm9ycyIsImluSW5saW5lUHJlIiwiaW5JbmxpbmVCb2R5IiwiaW5CbG9ja1RhZyIsImluRnVyaWdhbmEiLCJpbkthZXJpdGVuIiwiaW5Pa3VyaWdhbmEiLCJpbkFubm8iLCJpc0JyYWNrZXQiLCJpc0NvbG9uIiwiaXNMZXR0ZXIiLCJzb21lIiwiaXNNYXRjaGluZ1BhaXIiLCJjaDEiLCJjaDIiLCJyZWFkV2hpbGUiLCJwcmVkaWNhdGUiLCJidWYiLCJyZWFkVGV4dFNlZ21lbnQiLCJzZWciLCJyZWFkQnJhY2tldCIsInBhaXIiLCJwYWlySW5kZXgiLCJlcnJvck1zZyIsInJlYWRJbmxpbmVTdGFydCIsInJlYWRJbmxpbmVFbmQiLCJsYXN0IiwicmVhZElEIiwiaWQiLCJyZWFkQ2xhc3MiLCJyZWFkQmxvY2tTdGFydCIsInJlYWRCbG9ja0VuZCIsInJlYWRDb2xvbiIsInJlYWRTZXAiLCJyZWFkTGluZUJyZWFrIiwic3RhcnRQb3MiLCJjYXJldCIsImhpZGVDYXJldCIsInNlbERpdnMiLCJjb21wb3NpdGlvbkRpdnMiLCJpc1JlZ2lvblNlbGVjdGVkIiwicmVuZGVyU2VsZWN0aW9ucyIsIm1vdmVDYXJldCIsInJlc2V0U2VsZWN0aW9uIiwicmVzZXRDb21wb3NpdGlvblJlY3RzIiwiZGl2IiwidG9wIiwibGVmdCIsImRpc3BsYXkiXSwibWFwcGluZ3MiOiJDQUFBLFNBQTJDQSxFQUFNQyxHQUMxQixpQkFBWkMsU0FBMEMsaUJBQVhDLE9BQ3hDQSxPQUFPRCxRQUFVRCxJQUNRLG1CQUFYRyxRQUF5QkEsT0FBT0MsSUFDOUNELE9BQU8sR0FBSUgsR0FDZSxpQkFBWkMsUUFDZEEsUUFBb0IsV0FBSUQsSUFFeEJELEVBQWlCLFdBQUlDLElBUnZCLENBU0dLLFFBQVEsV0FDWCxPLFlDVEUsSUFBSUMsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVVAsUUFHbkMsSUFBSUMsRUFBU0ksRUFBaUJFLEdBQVksQ0FDekNDLEVBQUdELEVBQ0hFLEdBQUcsRUFDSFQsUUFBUyxJQVVWLE9BTkFVLEVBQVFILEdBQVVJLEtBQUtWLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNNLEdBRy9ETCxFQUFPUSxHQUFJLEVBR0pSLEVBQU9ELFFBMERmLE9BckRBTSxFQUFvQk0sRUFBSUYsRUFHeEJKLEVBQW9CTyxFQUFJUixFQUd4QkMsRUFBb0JRLEVBQUksU0FBU2QsRUFBU2UsRUFBTUMsR0FDM0NWLEVBQW9CVyxFQUFFakIsRUFBU2UsSUFDbENHLE9BQU9DLGVBQWVuQixFQUFTZSxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVWLEVBQW9CZ0IsRUFBSSxTQUFTdEIsR0FDWCxvQkFBWHVCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FB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bmIsU0FBUSxTQUFBMGIsR0FBTyxPQUFBQSxFQUFJaFgsWUFDaEMzSSxLQUFLb2YsUUFBVSxJQUduQixZQUFBakcsT0FBQSxTQUFPOVgsRUFBZUMsR0FDbEJ0QixLQUFLeUUsSUFBSXFELE1BQU16RyxNQUFRQSxFQUFRLEtBQy9CckIsS0FBS3lFLElBQUlxRCxNQUFNeEcsT0FBU0EsRUFBUyxNQUt6QyxFQXRHQSxDQUE0QyxXIiwiZmlsZSI6ImtvamktZWRpdG9yLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiS29qaUVkaXRvclwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJLb2ppRWRpdG9yXCJdID0gZmFjdG9yeSgpO1xufSkod2luZG93LCBmdW5jdGlvbigpIHtcbnJldHVybiAiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMyk7XG4iLCJpbXBvcnQgeyBpc0FycmF5IH0gZnJvbSBcInV0aWxcIjtcblxudHlwZSBTdGF0ZU5hbWUgPSBrZXlvZiBJU3RhdGU7XG5mdW5jdGlvbiBNdXRhdGlvbihzdGF0ZTogU3RhdGVOYW1lIHwgU3RhdGVOYW1lW10pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQ6IGFueSwgbmFtZTogc3RyaW5nLCBkZXNjcmlwdG9yOiBQcm9wZXJ0eURlc2NyaXB0b3IpIHtcbiAgICBjb25zdCBtZXRob2QgPSBkZXNjcmlwdG9yLnZhbHVlO1xuICAgIGRlc2NyaXB0b3IudmFsdWUgPSBmdW5jdGlvbiAodGhpczogYW55KSB7XG4gICAgICB0aGlzLnByZXZTdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICBtZXRob2QuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIHRoaXMuJHRyaWdnZXIoc3RhdGUpO1xuICAgIH07XG4gIH07XG59XG5cbmludGVyZmFjZSBJU3RhdGUge1xuICBzcmM6IHtcbiAgICB0ZXh0OiBzdHJpbmc7XG4gIH07XG4gIHJlcXVlc3RlZFNyYzogc3RyaW5nO1xuICBzZWxlY3Rpb246IHsgc3RhcnQ6IG51bWJlciwgZW5kOiBudW1iZXI7IH07XG4gIHJlcXVlc3RlZFNlbGVjdGlvbjogeyBzdGFydDogbnVtYmVyLCBlbmQ6IG51bWJlcjsgfTtcblxuICBzZWxlY3RlZFJlY3RzOiBET01SZWN0W107XG4gIGNhcmV0UG9zOiB7IHg6IG51bWJlciwgeTogbnVtYmVyIH1cbiAgaW5wdXQ6IHtcbiAgICBpbnB1dEV2ZW50PzogSW5wdXRFdmVudCxcbiAgICB0ZXh0OiBzdHJpbmc7XG4gICAgc2VsZWN0aW9uOiB7IHN0YXJ0OiBudW1iZXIsIGVuZDogbnVtYmVyOyB9O1xuICB9O1xuICBmb2N1czogYm9vbGVhbjtcbiAgZWRpdG9yU2l6ZToge1xuICAgIHdpZHRoOiBudW1iZXI7XG4gICAgaGVpZ2h0OiBudW1iZXI7XG4gIH07XG4gIHNjcm9sbFdpZHRoOiBudW1iZXI7XG4gIHNjcm9sbDogbnVtYmVyO1xuXG4gIGNvbXBvc2l0aW9uQWN0aXZlOiBib29sZWFuO1xuICBjb21wb3NpdGlvblRleHQ6IHN0cmluZztcbiAgY29tcG9zaXRpb25SZWN0czogRE9NUmVjdFtdO1xuXG4gIGtleWJvYXJkRXZlbnQ6IEtleWJvYXJkRXZlbnQgfCBudWxsO1xuICBwcm9wb3NlZENhcmV0UG9zOiBudW1iZXI7XG59XG5leHBvcnQgdHlwZSBTdGF0ZUtleSA9IGtleW9mIElTdGF0ZTtcblxuY2xhc3MgU3RvcmUge1xuICBzdGF0ZTogSVN0YXRlID0ge1xuICAgIHNyYzoge1xuICAgICAgdGV4dDogXCJcIlxuICAgIH0sXG4gICAgcmVxdWVzdGVkU3JjOiBcIlwiLFxuICAgIHNlbGVjdGlvbjoge1xuICAgICAgc3RhcnQ6IDAsXG4gICAgICBlbmQ6IDBcbiAgICB9LFxuICAgIHJlcXVlc3RlZFNlbGVjdGlvbjoge1xuICAgICAgc3RhcnQ6IDAsXG4gICAgICBlbmQ6IDBcbiAgICB9LFxuICAgIHNlbGVjdGVkUmVjdHM6IFtdLFxuICAgIGNhcmV0UG9zOiB7IHg6IDAsIHk6IDAgfSxcbiAgICBpbnB1dDoge1xuICAgICAgdGV4dDogXCJcIixcbiAgICAgIHNlbGVjdGlvbjoge1xuICAgICAgICBzdGFydDogMCxcbiAgICAgICAgZW5kOiAwXG4gICAgICB9LFxuICAgIH0sXG4gICAgc2Nyb2xsOiAwLFxuICAgIHNjcm9sbFdpZHRoOiAwLFxuICAgIGVkaXRvclNpemU6IHtcbiAgICAgIHdpZHRoOiAwLFxuICAgICAgaGVpZ2h0OiAwXG4gICAgfSxcbiAgICBmb2N1czogZmFsc2UsXG4gICAgY29tcG9zaXRpb25BY3RpdmU6IGZhbHNlLFxuICAgIGNvbXBvc2l0aW9uVGV4dDogJycsXG4gICAgY29tcG9zaXRpb25SZWN0czogW10sXG5cbiAgICBrZXlib2FyZEV2ZW50OiBudWxsLFxuICAgIHByb3Bvc2VkQ2FyZXRQb3M6IDBcbiAgfTtcbiAgaGFuZGxlcnM6IHsgW1AgaW4gU3RhdGVOYW1lXTogRnVuY3Rpb25bXSB9ID0ge1xuICAgIHNyYzogW10sXG4gICAgcmVxdWVzdGVkU3JjOiBbXSxcbiAgICBzZWxlY3Rpb246IFtdLFxuICAgIHJlcXVlc3RlZFNlbGVjdGlvbjogW10sXG4gICAgc2VsZWN0ZWRSZWN0czogW10sXG4gICAgaW5wdXQ6IFtdLFxuICAgIGZvY3VzOiBbXSxcbiAgICBzY3JvbGw6IFtdLFxuICAgIHNjcm9sbFdpZHRoOiBbXSxcbiAgICBlZGl0b3JTaXplOiBbXSxcbiAgICBjYXJldFBvczogW10sXG4gICAgY29tcG9zaXRpb25BY3RpdmU6IFtdLFxuICAgIGNvbXBvc2l0aW9uVGV4dDogW10sXG4gICAgY29tcG9zaXRpb25SZWN0czogW10sXG4gICAga2V5Ym9hcmRFdmVudDogW10sXG4gICAgcHJvcG9zZWRDYXJldFBvczogW11cbiAgfTtcblxuICBnZXQgc2VsZWN0ZWRUZXh0KCkge1xuICAgIGNvbnN0IHsgc3RhcnQsIGVuZCB9ID0gdGhpcy5zdGF0ZS5zZWxlY3Rpb247XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuc3JjLnRleHQuc2xpY2Uoc3RhcnQsIHN0YXJ0ICsgZW5kKTtcbiAgfVxuXG4gIGdldCBzZWxlY3Rpb25XaXRoTGluZU51bSgpIHtcbiAgICBjb25zdCB7IHN0YXJ0LCBlbmQgfSA9IHRoaXMuc3RhdGUuc2VsZWN0aW9uO1xuICAgIGNvbnN0IHRleHQgPSB0aGlzLnN0YXRlLnNyYy50ZXh0XG4gICAgbGV0IHNsaW5lID0gMCwgc3BvcyA9IDAsIGVsaW5lID0gMCwgZXBvcyA9IDBcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVuZDsgaSsrKSB7XG4gICAgICBpZiAoaSA8IHN0YXJ0KSB7XG4gICAgICAgIGlmICh0ZXh0W2ldID09PSBcIlxcblwiKSB7IHNsaW5lKys7IHNwb3MgPSAwIH1cbiAgICAgICAgZWxzZSB7IHNwb3MrKyB9XG4gICAgICB9XG4gICAgICBpZiAoaSA8PSBlbmQpIHtcbiAgICAgICAgaWYgKHRleHRbaV0gPT09IFwiXFxuXCIpIHsgZWxpbmUrKzsgZXBvcyA9IDAgfVxuICAgICAgICBlbHNlIHsgZXBvcysrIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgc3RhcnQ6IHsgbGluZW51bTogc2xpbmUsIHBvczogc3BvcyB9LCBlbmQ6IHsgbGluZW51bTogZWxpbmUsIHBvczogZXBvcyB9IH1cbiAgfVxuXG4gIGdldCBsaW5lcygpOiBzdHJpbmdbXSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuc3JjLnRleHQuc3BsaXQoXCJcXG5cIik7XG4gIH1cblxuICBnZXQgcHJldlNlbGVjdGVkTGluZXMoKTogeyBzdGFydDogbnVtYmVyOyBlbmQ6IG51bWJlcjsgfSB7XG4gICAgbGV0IHN0YXJ0ID0gMDtcbiAgICBsZXQgZW5kID0gMDtcbiAgICBjb25zdCB0ZXh0ID0gdGhpcy5zdGF0ZS5pbnB1dC50ZXh0O1xuICAgIGNvbnN0IHNlbGVjdGlvbiA9IHRoaXMuc3RhdGUuaW5wdXQuc2VsZWN0aW9uO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZWN0aW9uLmVuZDsgaSsrKSB7XG4gICAgICBpZiAodGV4dC5jaGFyQXQoaSkgPT0gXCJcXG5cIikge1xuICAgICAgICBpZiAoaSA8PSBzZWxlY3Rpb24uc3RhcnQpIHN0YXJ0Kys7XG4gICAgICAgIGlmIChpIDw9IHNlbGVjdGlvbi5lbmQpIGVuZCsrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geyBzdGFydCwgZW5kIH07XG4gIH1cblxuICBnZXQgY3VycmVudFNlbGVjdGVkTGluZXMoKTogeyBzdGFydDogbnVtYmVyOyBlbmQ6IG51bWJlcjsgfSB7XG4gICAgbGV0IHN0YXJ0ID0gMDtcbiAgICBsZXQgZW5kID0gMDtcbiAgICBjb25zdCB0ZXh0ID0gdGhpcy5zdGF0ZS5zcmMudGV4dDtcbiAgICBjb25zdCBzZWxlY3Rpb24gPSB0aGlzLnN0YXRlLnNlbGVjdGlvbjtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbGVjdGlvbi5lbmQ7IGkrKykge1xuICAgICAgaWYgKHRleHQuY2hhckF0KGkpID09IFwiXFxuXCIpIHtcbiAgICAgICAgaWYgKGkgPD0gc2VsZWN0aW9uLnN0YXJ0KSBzdGFydCsrO1xuICAgICAgICBpZiAoaSA8PSBzZWxlY3Rpb24uZW5kKSBlbmQrKztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgc3RhcnQsIGVuZCB9O1xuICB9XG5cbiAgZ2V0IGN1cnJlbnRMaW5lKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuc3JjLnRleHQuc3BsaXQoXCJcXG5cIilbdGhpcy5jdXJyZW50U2VsZWN0ZWRMaW5lcy5lbmRdO1xuICB9XG5cbiAgZ2V0IGN1cnJlbnRQb3MoKTogeyBsaW5lOiBudW1iZXIsIGNoYXI6IG51bWJlcjsgfSB7XG4gICAgY29uc3Qgc2VsZWN0aW9uID0gdGhpcy5zdGF0ZS5zZWxlY3Rpb247XG4gICAgY29uc3QgdGV4dCA9IHRoaXMuc3RhdGUuc3JjLnRleHQuc2xpY2UoMCwgc2VsZWN0aW9uLmVuZCk7XG4gICAgY29uc3QgbGluZXMgPSB0ZXh0LnNwbGl0KFwiXFxuXCIpO1xuICAgIHJldHVybiB7IGxpbmU6IGxpbmVzLmxlbmd0aCAtIDEsIGNoYXI6IGxpbmVzW2xpbmVzLmxlbmd0aCAtIDFdLmxlbmd0aCB9O1xuICB9XG5cbiAgZ2V0IHByZXZQb3MoKTogeyBsaW5lOiBudW1iZXIsIGNoYXI6IG51bWJlcjsgfSB7XG4gICAgY29uc3Qgc2VsZWN0aW9uID0gdGhpcy5zdGF0ZS5pbnB1dC5zZWxlY3Rpb247XG4gICAgY29uc3QgdGV4dCA9IHRoaXMuc3RhdGUuaW5wdXQudGV4dC5zbGljZSgwLCBzZWxlY3Rpb24uZW5kKTtcbiAgICBjb25zdCBsaW5lcyA9IHRleHQuc3BsaXQoXCJcXG5cIik7XG4gICAgaWYgKGxpbmVzLmxlbmd0aCA9PSAwKSByZXR1cm4geyBsaW5lOiAwLCBjaGFyOiAwIH07XG4gICAgcmV0dXJuIHsgbGluZTogbGluZXMubGVuZ3RoIC0gMSwgY2hhcjogbGluZXNbbGluZXMubGVuZ3RoIC0gMV0ubGVuZ3RoIH07XG4gIH1cblxuICBnZXQgcHJldkxpbmUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5zcmMudGV4dC5zcGxpdChcIlxcblwiKVt0aGlzLmN1cnJlbnRTZWxlY3RlZExpbmVzLnN0YXJ0IC0gMV07XG4gIH1cblxuICBnZXQgbmV4dExpbmUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5zcmMudGV4dC5zcGxpdChcIlxcblwiKVt0aGlzLmN1cnJlbnRTZWxlY3RlZExpbmVzLmVuZCArIDFdO1xuICB9XG5cbiAgZ2V0IGlzUmVnaW9uU2VsZWN0ZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuc2VsZWN0aW9uLnN0YXJ0ICE9IHRoaXMuc3RhdGUuc2VsZWN0aW9uLmVuZDtcbiAgfVxuXG4gIGdldCBpbnB1dEhhc1NlbGVjdGlvbigpOiBib29sZWFuIHtcbiAgICBjb25zdCB7IHN0YXJ0LCBlbmQgfSA9IHRoaXMuc3RhdGUuaW5wdXQuc2VsZWN0aW9uO1xuICAgIHJldHVybiBzdGFydCAhPSBlbmQ7XG4gIH1cblxuICBnZXQgbmV4dENoYXIoKTogc3RyaW5nIHtcbiAgICBjb25zdCBpZHggPSB0aGlzLnN0YXRlLmlucHV0LnNlbGVjdGlvbi5lbmQ7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuaW5wdXQudGV4dFtpZHhdO1xuICB9XG5cbiAgZ2V0IHByZXZDaGFyKCk6IHN0cmluZyB7XG4gICAgY29uc3QgaWR4ID0gdGhpcy5zdGF0ZS5pbnB1dC5zZWxlY3Rpb24uc3RhcnQ7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuaW5wdXQudGV4dFtpZHggLSAxXTtcbiAgfVxuXG4gIEBNdXRhdGlvbihcInJlcXVlc3RlZFNyY1wiKVxuICBTRVRfUkVRVUVTVEVEX1NSQyh2YWx1ZTogc3RyaW5nKSB7XG4gICAgdGhpcy5zdGF0ZS5yZXF1ZXN0ZWRTcmMgPSB2YWx1ZVxuICB9XG5cbiAgQE11dGF0aW9uKFwic3JjXCIpXG4gIFNFVF9JTlBVVChwYXlsb2FkOiB7IHNyY1RleHQ6IHN0cmluZywgaW5wdXRFdmVudD86IElucHV0RXZlbnQsIHNlbGVjdGlvbjogeyBzdGFydDogbnVtYmVyOyBlbmQ6IG51bWJlcjsgfTsgfSkge1xuICAgIHRoaXMuc3RhdGUuaW5wdXQuaW5wdXRFdmVudCA9IHBheWxvYWQuaW5wdXRFdmVudDtcbiAgICB0aGlzLnN0YXRlLmlucHV0LnNlbGVjdGlvbiA9IHRoaXMuc3RhdGUuc2VsZWN0aW9uO1xuICAgIHRoaXMuc3RhdGUuaW5wdXQudGV4dCA9IHRoaXMuc3RhdGUuc3JjLnRleHQ7XG4gICAgdGhpcy5zdGF0ZS5zcmMudGV4dCA9IHBheWxvYWQuc3JjVGV4dDtcbiAgICB0aGlzLnN0YXRlLnNlbGVjdGlvbiA9IHBheWxvYWQuc2VsZWN0aW9uO1xuICB9XG5cbiAgQE11dGF0aW9uKFwiZm9jdXNcIilcbiAgU0VUX0ZPQ1VTKHZhbHVlOiBib29sZWFuKSB7XG4gICAgdGhpcy5zdGF0ZS5mb2N1cyA9IHZhbHVlO1xuICB9XG5cbiAgQE11dGF0aW9uKFwic2VsZWN0aW9uXCIpXG4gIFNFVF9TRUxFQ1RJT04oc2VsOiB7IHN0YXJ0OiBudW1iZXI7IGVuZDogbnVtYmVyOyB9KSB7XG4gICAgdGhpcy5zdGF0ZS5zZWxlY3Rpb24gPSBzZWw7XG4gIH1cblxuICBATXV0YXRpb24oXCJyZXF1ZXN0ZWRTZWxlY3Rpb25cIilcbiAgU0VUX1JFUVVFU1RFRF9TRUxFQ1RJT04oc2VsOiB7IHN0YXJ0OiBudW1iZXI7IGVuZDogbnVtYmVyOyB9KSB7XG4gICAgdGhpcy5zdGF0ZS5yZXF1ZXN0ZWRTZWxlY3Rpb24gPSBzZWw7XG4gIH1cblxuICBATXV0YXRpb24oXCJzZWxlY3RlZFJlY3RzXCIpXG4gIFNFVF9TRUxFVEVDVEVEX1JFQ1RTKHZhbHVlOiBET01SZWN0W10pIHtcbiAgICB0aGlzLnN0YXRlLnNlbGVjdGVkUmVjdHMgPSB2YWx1ZTtcbiAgfVxuXG4gIEBNdXRhdGlvbihcInNjcm9sbFwiKVxuICBTRVRfU0NST0xMKHZhbHVlOiBudW1iZXIpIHtcbiAgICB0aGlzLnN0YXRlLnNjcm9sbCA9IHZhbHVlO1xuICB9XG5cbiAgQE11dGF0aW9uKFwic2Nyb2xsV2lkdGhcIilcbiAgU0VUX1NDUk9MTF9XSURUSCh2YWx1ZTogbnVtYmVyKSB7XG4gICAgdGhpcy5zdGF0ZS5zY3JvbGxXaWR0aCA9IHZhbHVlO1xuICB9XG5cbiAgQE11dGF0aW9uKFwiZWRpdG9yU2l6ZVwiKVxuICBTRVRfRURJVE9SX1NJWkUod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpIHtcbiAgICB0aGlzLnN0YXRlLmVkaXRvclNpemUgPSB7IHdpZHRoLCBoZWlnaHQgfTtcbiAgfVxuXG4gIEBNdXRhdGlvbihcImNhcmV0UG9zXCIpXG4gIFNFVF9DQVJFVF9QT1MoeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcbiAgICB0aGlzLnN0YXRlLmNhcmV0UG9zID0geyB4LCB5IH1cbiAgfVxuXG4gIEBNdXRhdGlvbihcImNvbXBvc2l0aW9uQWN0aXZlXCIpXG4gIFNFVF9DT01QT1NJVElPTl9BQ1RJVkUodmFsdWU6IGJvb2xlYW4pIHtcbiAgICB0aGlzLnN0YXRlLmNvbXBvc2l0aW9uQWN0aXZlID0gdmFsdWVcbiAgfVxuXG4gIEBNdXRhdGlvbihcImNvbXBvc2l0aW9uVGV4dFwiKVxuICBTRVRfQ09NUE9TSVRJT05fVEVYVCh2YWx1ZTogc3RyaW5nKSB7XG4gICAgdGhpcy5zdGF0ZS5jb21wb3NpdGlvblRleHQgPSB2YWx1ZVxuICB9XG5cbiAgQE11dGF0aW9uKFwiY29tcG9zaXRpb25SZWN0c1wiKVxuICBTRVRfQ09NUE9TSVRJT05fUkVDVFModmFsdWU6IERPTVJlY3RbXSkge1xuICAgIHRoaXMuc3RhdGUuY29tcG9zaXRpb25SZWN0cyA9IHZhbHVlXG4gIH1cblxuICBATXV0YXRpb24oXCJrZXlib2FyZEV2ZW50XCIpXG4gIFNFVF9LRVlCT0FSRF9FVkVOVCh2YWx1ZTogS2V5Ym9hcmRFdmVudCB8IG51bGwpIHtcbiAgICB0aGlzLnN0YXRlLmtleWJvYXJkRXZlbnQgPSB2YWx1ZVxuICB9XG5cbiAgQE11dGF0aW9uKFwicHJvcG9zZWRDYXJldFBvc1wiKVxuICBTRVRfUFJPUE9TRURfQ0FSRVRfUE9TKHZhbHVlOiBudW1iZXIpIHtcbiAgICB0aGlzLnN0YXRlLnByb3Bvc2VkQ2FyZXRQb3MgPSB2YWx1ZVxuICB9XG5cbiAgJHRyaWdnZXIoc3RhdGU6IFN0YXRlTmFtZSB8IFN0YXRlTmFtZVtdKSB7XG4gICAgaWYgKGlzQXJyYXkoc3RhdGUpKSB7XG4gICAgICBzdGF0ZS5mb3JFYWNoKHMgPT4ge1xuICAgICAgICB0aGlzLmhhbmRsZXJzW3NdLmZvckVhY2goZnVuY3Rpb24gKHRoaXM6IGFueSwgaCkge1xuICAgICAgICAgIGguYXBwbHkodGhpcyk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaGFuZGxlcnNbc3RhdGVdLmZvckVhY2goZnVuY3Rpb24gKHRoaXM6IGFueSwgaCkge1xuICAgICAgICBoLmFwcGx5KHRoaXMpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgJHdhdGNoKHN0YXRlOiBTdGF0ZU5hbWUgfCBTdGF0ZU5hbWVbXSwgaGFuZGxlcjogKCkgPT4gdm9pZCkge1xuICAgIGlmIChpc0FycmF5KHN0YXRlKSkge1xuICAgICAgc3RhdGUuZm9yRWFjaChzID0+IHRoaXMuaGFuZGxlcnNbc10ucHVzaChoYW5kbGVyKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaGFuZGxlcnNbc3RhdGVdLnB1c2goaGFuZGxlcik7XG4gICAgfVxuICB9XG59XG5jb25zdCBzdG9yZSA9IG5ldyBTdG9yZSgpO1xuKDxhbnk+d2luZG93KS5zdG9yZSA9IHN0b3JlO1xuZXhwb3J0IGRlZmF1bHQgc3RvcmU7XG4iLCJleHBvcnQgZGVmYXVsdCBhYnN0cmFjdCBjbGFzcyBCYXNlQ29tcG9uZW50IHtcblxuICAgIGFic3RyYWN0ICRlbDogSFRNTEVsZW1lbnQ7XG4gICAgY29tcG9uZW50czogQmFzZUNvbXBvbmVudFtdID0gW11cblxuICAgIGNvbnN0cnVjdG9yKCkge1xuXG4gICAgfVxuXG4gICAgb2JzZXJ2ZUVsKGV2ZW50TmFtZXM6IHN0cmluZ1tdLCBoYW5kbGVyOiAoZXZlbnQ6IEV2ZW50KSA9PiB2b2lkKSB7XG4gICAgICAgIGZvciAobGV0IG5hbWUgaW4gZXZlbnROYW1lcykge1xuICAgICAgICAgICAgdGhpcy4kZWwuYWRkRXZlbnRMaXN0ZW5lcihuYW1lLCBoYW5kbGVyKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGgoZWxlbU5hbWU6IHN0cmluZywgLi4uY2xhc3NOYW1lOiBzdHJpbmdbXSk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgY29uc3QgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZWxlbU5hbWUpXG4gICAgICAgIGZvciAobGV0IGNscyBvZiBjbGFzc05hbWUpIHtcbiAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LmFkZChjbHMpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVsZW1cbiAgICB9XG5cbiAgICBhZGQoY29tcDogQmFzZUNvbXBvbmVudCkge1xuICAgICAgICB0aGlzLmNvbXBvbmVudHMucHVzaChjb21wKVxuICAgICAgICB0aGlzLiRlbC5hcHBlbmRDaGlsZChjb21wLiRlbClcbiAgICB9XG5cbn0iLCJpbXBvcnQgeyBUb2tlbiB9IGZyb20gXCIuLi90eXBlc1wiO1xuXG5leHBvcnQgY2xhc3MgSW5wdXRTdHJlYW0ge1xuICAgIHBvcyA9IDA7XG4gICAgbGluZSA9IDA7XG4gICAgY29sID0gMDtcbiAgICBpbnB1dDogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IoaW5wdXQ6IHN0cmluZykge1xuICAgICAgICB0aGlzLmlucHV0ID0gaW5wdXQ7XG4gICAgfVxuXG4gICAgbmV4dCgpIHtcbiAgICAgICAgbGV0IGNoID0gdGhpcy5pbnB1dC5jaGFyQXQodGhpcy5wb3MrKyk7XG4gICAgICAgIGlmIChjaCA9PT0gXCJcXG5cIikgdGhpcy5saW5lKysgLCAodGhpcy5jb2wgPSAwKTtcbiAgICAgICAgZWxzZSB0aGlzLmNvbCsrO1xuICAgICAgICByZXR1cm4gY2g7XG4gICAgfVxuXG4gICAgcGVlaygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5wdXRbdGhpcy5wb3NdO1xuICAgIH1cblxuICAgIGVvZigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGVlaygpID09PSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgY3JvYWsobXNnOiBzdHJpbmcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyArIFwiIChcIiArIHRoaXMubGluZSArIFwiOlwiICsgdGhpcy5jb2wgKyBcIilcIik7XG4gICAgfVxufVxuXG5cbmV4cG9ydCBkZWZhdWx0IGFic3RyYWN0IGNsYXNzIFRva2VuaXplciB7XG4gICAgaXM6IElucHV0U3RyZWFtO1xuICAgIGN1cnJlbnQ6IFRva2VuIHwgbnVsbCA9IG51bGw7XG5cbiAgICBwZWVrKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50IHx8ICh0aGlzLmN1cnJlbnQgPSB0aGlzLnJlYWROZXh0KCkpO1xuICAgIH1cblxuICAgIG5leHQoKTogVG9rZW4gfCBudWxsIHtcbiAgICAgICAgbGV0IHRvayA9IHRoaXMuY3VycmVudDtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIHRvayB8fCB0aGlzLnJlYWROZXh0KCk7XG4gICAgfVxuXG4gICAgZW9mKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wZWVrKCkgPT0gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihzcmM6IHN0cmluZykge1xuICAgICAgICB0aGlzLmlzID0gbmV3IElucHV0U3RyZWFtKHNyYyk7XG4gICAgfVxuXG4gICAgYWJzdHJhY3QgcmVhZE5leHQoKTogVG9rZW4gfCBudWxsO1xuXG4gICAgYWJzdHJhY3QgdG9rZW5pemUoKTogQXJyYXk8VG9rZW4+O1xufVxuIiwiaW1wb3J0IFwiLi9zdHlsZS5zY3NzXCJcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRWRpdG9yIH0gZnJvbSAnLi9jb21wb25lbnRzL0VkaXRvcidcbiIsInZhciBhcGkgPSByZXF1aXJlKFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiKTtcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuc2Nzc1wiKTtcblxuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuICAgICAgICAgICAgfVxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShtb2R1bGUuaWQsIGNvbnRlbnQsIG9wdGlvbnMpO1xuXG52YXIgZXhwb3J0ZWQgPSBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDoge307XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydGVkOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgaXNPbGRJRSA9IGZ1bmN0aW9uIGlzT2xkSUUoKSB7XG4gIHZhciBtZW1vO1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUoKSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vID09PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3NcbiAgICAgIC8vIEBzZWUgaHR0cDovL2Jyb3dzZXJoYWNrcy5jb20vI2hhY2stZTcxZDg2OTJmNjUzMzQxNzNmZWU3MTVjMjIyY2I4MDVcbiAgICAgIC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcbiAgICAgIC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuICAgICAgLy8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlci9pc3N1ZXMvMTc3XG4gICAgICBtZW1vID0gQm9vbGVhbih3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYik7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW87XG4gIH07XG59KCk7XG5cbnZhciBnZXRUYXJnZXQgPSBmdW5jdGlvbiBnZXRUYXJnZXQoKSB7XG4gIHZhciBtZW1vID0ge307XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSh0YXJnZXQpIHtcbiAgICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTsgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblxuICAgICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG4gICAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcbiAgfTtcbn0oKTtcblxudmFyIHN0eWxlc0luRG9tID0ge307XG5cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShtb2R1bGVJZCwgbGlzdCwgb3B0aW9ucykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgcGFydCA9IHtcbiAgICAgIGNzczogbGlzdFtpXVsxXSxcbiAgICAgIG1lZGlhOiBsaXN0W2ldWzJdLFxuICAgICAgc291cmNlTWFwOiBsaXN0W2ldWzNdXG4gICAgfTtcblxuICAgIGlmIChzdHlsZXNJbkRvbVttb2R1bGVJZF1baV0pIHtcbiAgICAgIHN0eWxlc0luRG9tW21vZHVsZUlkXVtpXShwYXJ0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGVzSW5Eb21bbW9kdWxlSWRdLnB1c2goYWRkU3R5bGUocGFydCwgb3B0aW9ucykpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICB2YXIgYXR0cmlidXRlcyA9IG9wdGlvbnMuYXR0cmlidXRlcyB8fCB7fTtcblxuICBpZiAodHlwZW9mIGF0dHJpYnV0ZXMubm9uY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSAndW5kZWZpbmVkJyA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcblxuICAgIGlmIChub25jZSkge1xuICAgICAgYXR0cmlidXRlcy5ub25jZSA9IG5vbmNlO1xuICAgIH1cbiAgfVxuXG4gIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZShrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG4gIH0pO1xuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvcHRpb25zLmluc2VydChzdHlsZSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHRhcmdldCA9IGdldFRhcmdldChvcHRpb25zLmluc2VydCB8fCAnaGVhZCcpO1xuXG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gICAgfVxuXG4gICAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgfVxuXG4gIHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxudmFyIHJlcGxhY2VUZXh0ID0gZnVuY3Rpb24gcmVwbGFjZVRleHQoKSB7XG4gIHZhciB0ZXh0U3RvcmUgPSBbXTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHJlcGxhY2UoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG4gICAgdGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuICAgIHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuICB9O1xufSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcbiAgdmFyIGNzcyA9IHJlbW92ZSA/ICcnIDogb2JqLmNzczsgLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcbiAgICB2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cbiAgICBpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9XG5cbiAgICBpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgIHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlLCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IG9iai5jc3M7XG4gIHZhciBtZWRpYSA9IG9iai5tZWRpYTtcbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKG1lZGlhKSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKCdtZWRpYScsIG1lZGlhKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZS5yZW1vdmVBdHRyaWJ1dGUoJ21lZGlhJyk7XG4gIH1cblxuICBpZiAoc291cmNlTWFwICYmIGJ0b2EpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfSAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlLmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5cbnZhciBzaW5nbGV0b24gPSBudWxsO1xudmFyIHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xuXG5mdW5jdGlvbiBhZGRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlO1xuICB2YXIgdXBkYXRlO1xuICB2YXIgcmVtb3ZlO1xuXG4gIGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuICAgIHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuICAgIHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgZmFsc2UpO1xuICAgIHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUgPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblxuICAgIHJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG4gICAgfTtcbiAgfVxuXG4gIHVwZGF0ZShvYmopO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICByZW1vdmUoKTtcbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG1vZHVsZUlkLCBsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OyAvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cbiAgLy8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXG4gIGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSAnYm9vbGVhbicpIHtcbiAgICBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcbiAgfVxuXG4gIG1vZHVsZUlkID0gb3B0aW9ucy5iYXNlID8gbW9kdWxlSWQgKyBvcHRpb25zLmJhc2UgOiBtb2R1bGVJZDtcbiAgbGlzdCA9IGxpc3QgfHwgW107XG5cbiAgaWYgKCFzdHlsZXNJbkRvbVttb2R1bGVJZF0pIHtcbiAgICBzdHlsZXNJbkRvbVttb2R1bGVJZF0gPSBbXTtcbiAgfVxuXG4gIG1vZHVsZXNUb0RvbShtb2R1bGVJZCwgbGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuZXdMaXN0KSAhPT0gJ1tvYmplY3QgQXJyYXldJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghc3R5bGVzSW5Eb21bbW9kdWxlSWRdKSB7XG4gICAgICBzdHlsZXNJbkRvbVttb2R1bGVJZF0gPSBbXTtcbiAgICB9XG5cbiAgICBtb2R1bGVzVG9Eb20obW9kdWxlSWQsIG5ld0xpc3QsIG9wdGlvbnMpO1xuXG4gICAgZm9yICh2YXIgaiA9IG5ld0xpc3QubGVuZ3RoOyBqIDwgc3R5bGVzSW5Eb21bbW9kdWxlSWRdLmxlbmd0aDsgaisrKSB7XG4gICAgICBzdHlsZXNJbkRvbVttb2R1bGVJZF1bal0oKTtcbiAgICB9XG5cbiAgICBzdHlsZXNJbkRvbVttb2R1bGVJZF0ubGVuZ3RoID0gbmV3TGlzdC5sZW5ndGg7XG5cbiAgICBpZiAoc3R5bGVzSW5Eb21bbW9kdWxlSWRdLmxlbmd0aCA9PT0gMCkge1xuICAgICAgZGVsZXRlIHN0eWxlc0luRG9tW21vZHVsZUlkXTtcbiAgICB9XG4gIH07XG59OyIsIi8vIEltcG9ydHNcbnZhciBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gPSByZXF1aXJlKFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKTtcbmV4cG9ydHMgPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oZmFsc2UpO1xuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiQGltcG9ydCB1cmwoaHR0cDovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2Vhcmx5YWNjZXNzL25vdG9zYW5zamFwYW5lc2UuY3NzKTtcIl0pO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJAa2V5ZnJhbWVzIGJsaW5rezc1JXtvcGFjaXR5OjB9fS5rb2ppLWVkaXRvci10ZXh0YXJlYXt3aWR0aDo1MDBweDtoZWlnaHQ6NTAwcHg7bWFyZ2luOjA7cGFkZGluZzowO2JvcmRlcjpub25lO2ZvbnQtc2l6ZToxNHB4O2ZvbnQtZmFtaWx5OlxcXCJOb3RvIFNhbnMgSlBcXFwiLCBzYW5zLXNlcmlmO3RyYW5zZm9ybTpyb3RhdGUoOTBkZWcpO29wYWNpdHk6MC4zO3Bvc2l0aW9uOmZpeGVkO3RvcDoxMDBweDtsZWZ0OjEwMHB4O3otaW5kZXg6OTk5OTk5O2xpbmUtaGVpZ2h0OjIwcHg7b3ZlcmZsb3cteTpzY3JvbGx9LmtvamktZWRpdG9yLWRpc3BsYXl7d2lkdGg6NTAwcHg7aGVpZ2h0OjUwMHB4O21hcmdpbjowO3BhZGRpbmc6MDtib3JkZXI6bm9uZTtmb250LXNpemU6MTRweDtmb250LWZhbWlseTpcXFwiTm90byBTYW5zIEpQXFxcIiwgc2Fucy1zZXJpZjt0b3A6MTAwcHg7bGVmdDoxMDBweDtib3JkZXI6MXB4IHNvbGlkICNiNGI0YjQ7cG9zaXRpb246Zml4ZWQ7d3JpdGluZy1tb2RlOnZlcnRpY2FsLXJsO292ZXJmbG93LXg6c2Nyb2xsO292ZXJmbG93LXk6aGlkZGVufS5rb2ppLWVkaXRvci1kaXNwbGF5IC5rb2ppLWVkaXRvci1vdmVybGF5e3Bvc2l0aW9uOmFic29sdXRlO2hlaWdodDoxMDAlO21pbi13aWR0aDoxMDAlO3dyaXRpbmctbW9kZTp2ZXJ0aWNhbC1ybDtwb3NpdGlvbjpyZWxhdGl2ZX0ua29qaS1lZGl0b3ItZGlzcGxheSAua29qaS1lZGl0b3Itb3ZlcmxheSAua29qaS1lZGl0b3ItY2FyZXR7cG9zaXRpb246YWJzb2x1dGU7Ym9yZGVyLXRvcDoxcHggc29saWQgYmxhY2s7d2lkdGg6MTZweDtoZWlnaHQ6MXB4O2FuaW1hdGlvbjpibGluayAxcyBzdGVwLWVuZCBpbmZpbml0ZX0ua29qaS1lZGl0b3ItZGlzcGxheSAua29qaS1lZGl0b3Itb3ZlcmxheSAua29qaS1lZGl0b3Itc2VsZWN0aW9ue3Bvc2l0aW9uOmFic29sdXRlO2JhY2tncm91bmQ6I2YwMDtvcGFjaXR5OjAuNTt6LWluZGV4OjEwMH0ua29qaS1lZGl0b3ItZGlzcGxheSAua29qaS1lZGl0b3Itb3ZlcmxheSAua29qaS1lZGl0b3ItY29tcG9zaXRpb24tYmFye3Bvc2l0aW9uOmFic29sdXRlO2JvcmRlci1sZWZ0OjFweCBzb2xpZCBibGFjazt6LWluZGV4OjEwMX0ua29qaS1lZGl0b3ItZGlzcGxheSAua29qaS1lZGl0b3Itc3JjLXBhbmVse21pbi13aWR0aDoxMDAlO3Bvc2l0aW9uOmFic29sdXRlO2hlaWdodDoxMDAlO3dyaXRpbmctbW9kZTp2ZXJ0aWNhbC1ybH0ua29qaS1lZGl0b3ItZGlzcGxheSAua29qaS1lZGl0b3Itc3JjLXBhbmVsIC5rb2ppLWVkaXRvci1saW5le21pbi13aWR0aDoyMHB4O2xpbmUtaGVpZ2h0OjIwcHg7aGVpZ2h0OjEwMCU7bWFyZ2luOjA7cGFkZGluZzowO2JvcmRlcjpub25lfS5rb2ppLWVkaXRvci1kaXNwbGF5IC5rb2ppLWVkaXRvci1zcmMtcGFuZWwgLkZVUklHQU5BX1NUQVJULC5rb2ppLWVkaXRvci1kaXNwbGF5IC5rb2ppLWVkaXRvci1zcmMtcGFuZWwgLkZVUklHQU5BLC5rb2ppLWVkaXRvci1kaXNwbGF5IC5rb2ppLWVkaXRvci1zcmMtcGFuZWwgLkZVUklHQU5BX0VORHtjb2xvcjpibHVlfS5rb2ppLWVkaXRvci1kaXNwbGF5IC5rb2ppLWVkaXRvci1zcmMtcGFuZWwgLlVOS05PV057YmFja2dyb3VuZC1jb2xvcjp5ZWxsb3d9LmtvamktZWRpdG9yLWRpc3BsYXkgLmtvamktZWRpdG9yLXNyYy1wYW5lbCAuQU5OT19TVEFSVCwua29qaS1lZGl0b3ItZGlzcGxheSAua29qaS1lZGl0b3Itc3JjLXBhbmVsIC5BTk5PX0VORCwua29qaS1lZGl0b3ItZGlzcGxheSAua29qaS1lZGl0b3Itc3JjLXBhbmVsIC5BTk5PVEFUSU9Oe2NvbG9yOnJlZH1cXG5cIiwgXCJcIl0pO1xuLy8gRXhwb3J0c1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHVzZVNvdXJjZU1hcCkge1xuICB2YXIgbGlzdCA9IFtdOyAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCk7XG5cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIHJldHVybiBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKS5jb25jYXQoY29udGVudCwgXCJ9XCIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKCcnKTtcbiAgfTsgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcblxuXG4gIGxpc3QuaSA9IGZ1bmN0aW9uIChtb2R1bGVzLCBtZWRpYVF1ZXJ5KSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCAnJ11dO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGl0ZW0gPSBbXS5jb25jYXQobW9kdWxlc1tpXSk7XG5cbiAgICAgIGlmIChtZWRpYVF1ZXJ5KSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMl0gPSBcIlwiLmNvbmNhdChtZWRpYVF1ZXJ5LCBcIiBhbmQgXCIpLmNvbmNhdChpdGVtWzJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTtcblxuZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdIHx8ICcnOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcblxuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG5cbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cblxuICBpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG4gICAgdmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgIHJldHVybiBcIi8qIyBzb3VyY2VVUkw9XCIuY29uY2F0KGNzc01hcHBpbmcuc291cmNlUm9vdCkuY29uY2F0KHNvdXJjZSwgXCIgKi9cIik7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufSAvLyBBZGFwdGVkIGZyb20gY29udmVydC1zb3VyY2UtbWFwIChNSVQpXG5cblxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG4gIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgcmV0dXJuIFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbn0iLCJpbXBvcnQgSGlkZGVuVGV4dEFyZWEgZnJvbSAnLi9IaWRkZW5UZXh0QXJlYSc7XG5pbXBvcnQgRGlzcGxheSBmcm9tICcuL0Rpc3BsYXknO1xuaW1wb3J0IEJhc2VDb21wb25lbnQgZnJvbSAnLi9CYXNlQ29tcG9uZW50JztcbmltcG9ydCBzdG9yZSBmcm9tICcuLi9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVkaXRvciBleHRlbmRzIEJhc2VDb21wb25lbnQge1xuXG4gICAgJGVsOiBIVE1MRWxlbWVudFxuXG5cbiAgICBjb25zdHJ1Y3RvcihwYXJlbnRFbDogSFRNTEVsZW1lbnQsIHNyYzogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKClcbiAgICAgICAgdGhpcy4kZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG4gICAgICAgIHRoaXMuJGVsLmNsYXNzTGlzdC5hZGQoJ2tvamktZWRpdG9yJylcbiAgICAgICAgdGhpcy5hZGQobmV3IEhpZGRlblRleHRBcmVhKCkpXG4gICAgICAgIHRoaXMuYWRkKG5ldyBEaXNwbGF5KCkpXG4gICAgICAgIHBhcmVudEVsLmFwcGVuZENoaWxkKHRoaXMuJGVsKVxuICAgICAgICBzdG9yZS5TRVRfUkVRVUVTVEVEX1NSQyhzcmMpXG4gICAgfVxuXG5cbn0iLCJpbXBvcnQgc3RvcmUgZnJvbSBcIi4uL3N0b3JlXCI7XG5pbXBvcnQgQmFzZUNvbXBvbmVudCBmcm9tIFwiLi9CYXNlQ29tcG9uZW50XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhpZGRlblRleHRBcmVhIGV4dGVuZHMgQmFzZUNvbXBvbmVudCB7XG4gICRlbDogSFRNTFRleHRBcmVhRWxlbWVudDtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuJGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRleHRhcmVhXCIpO1xuICAgIHRoaXMuJGVsLmNsYXNzTGlzdC5hZGQoXCJrb2ppLWVkaXRvci10ZXh0YXJlYVwiKTtcbiAgICB0aGlzLm9ic2VydmVGb2N1cygpO1xuICAgIHRoaXMub2JzZXJ2ZUlucHV0KCk7XG4gICAgdGhpcy5vYnNlcnZlU2VsZWN0aW9uKCk7XG4gICAgdGhpcy5vYnNlcnZlU2Nyb2xsKCk7XG4gICAgdGhpcy5vYnNlcnZlUmVzaXplKCk7XG4gICAgdGhpcy5vYnNlcnZlQ29tcG9zaXRpb24oKTtcbiAgICB0aGlzLm9ic2VydmVLZXlFdmVudCgpO1xuICAgIHNldFRpbWVvdXQoKCkgPT4gc3RvcmUuU0VUX0VESVRPUl9TSVpFKHRoaXMuJGVsLmNsaWVudFdpZHRoLCB0aGlzLiRlbC5jbGllbnRIZWlnaHQpLCAxMDApO1xuXG4gICAgc3RvcmUuJHdhdGNoKCdyZXF1ZXN0ZWRTcmMnLCAoKSA9PiB7XG4gICAgICBjb25zdCB0ZXh0ID0gc3RvcmUuc3RhdGUucmVxdWVzdGVkU3JjXG4gICAgICB0aGlzLiRlbC52YWx1ZSA9IHRleHRcbiAgICAgIHN0b3JlLlNFVF9JTlBVVCh7IHNyY1RleHQ6IHRleHQsIHNlbGVjdGlvbjogeyBzdGFydDogMCwgZW5kOiAwIH0gfSlcbiAgICB9KVxuXG4gICAgc3RvcmUuJHdhdGNoKCdyZXF1ZXN0ZWRTZWxlY3Rpb24nLCAoKSA9PiB7XG4gICAgICBjb25zdCBzZWwgPSBzdG9yZS5zdGF0ZS5yZXF1ZXN0ZWRTZWxlY3Rpb25cbiAgICAgIHRoaXMuJGVsLnNlbGVjdGlvblN0YXJ0ID0gc2VsLnN0YXJ0XG4gICAgICB0aGlzLiRlbC5zZWxlY3Rpb25FbmQgPSBzZWwuZW5kXG4gICAgfSlcbiAgfVxuXG4gIG9ic2VydmVGb2N1cygpIHtcbiAgICB0aGlzLiRlbC5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNcIiwgKCkgPT4ge1xuICAgICAgc3RvcmUuU0VUX0ZPQ1VTKHRydWUpO1xuICAgIH0pO1xuICAgIHRoaXMuJGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJibHVyXCIsICgpID0+IHtcbiAgICAgIHN0b3JlLlNFVF9GT0NVUyhmYWxzZSk7XG4gICAgfSk7XG4gIH1cblxuICBvYnNlcnZlSW5wdXQoKSB7XG4gICAgdGhpcy4kZWwuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIChldmVudDogRXZlbnQpID0+IHtcbiAgICAgIHN0b3JlLlNFVF9JTlBVVCh7XG4gICAgICAgIHNyY1RleHQ6IHRoaXMuJGVsLnZhbHVlLCBpbnB1dEV2ZW50OiA8SW5wdXRFdmVudD5ldmVudCwgc2VsZWN0aW9uOiB7XG4gICAgICAgICAgc3RhcnQ6IHRoaXMuJGVsLnNlbGVjdGlvblN0YXJ0LFxuICAgICAgICAgIGVuZDogdGhpcy4kZWwuc2VsZWN0aW9uRW5kXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHN0b3JlLlNFVF9TRUxFQ1RJT04oe1xuICAgICAgc3RhcnQ6IHRoaXMuJGVsLnNlbGVjdGlvblN0YXJ0LFxuICAgICAgZW5kOiB0aGlzLiRlbC5zZWxlY3Rpb25FbmRcbiAgICB9KTtcbiAgfVxuXG4gIG9ic2VydmVTZWxlY3Rpb24oKSB7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInNlbGVjdGlvbmNoYW5nZVwiLCAoKSA9PiB7XG4gICAgICBjb25zdCBhY3RpdmVFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICAgIGlmIChhY3RpdmVFbGVtZW50ICE9IHRoaXMuJGVsKSByZXR1cm47XG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMuJGVsLnNlbGVjdGlvblN0YXJ0ICE9PSBzdG9yZS5zdGF0ZS5zZWxlY3Rpb24uc3RhcnQgfHxcbiAgICAgICAgdGhpcy4kZWwuc2VsZWN0aW9uRW5kICE9PSBzdG9yZS5zdGF0ZS5zZWxlY3Rpb24uZW5kXG4gICAgICApIHtcbiAgICAgICAgc3RvcmUuU0VUX1NFTEVDVElPTih7XG4gICAgICAgICAgc3RhcnQ6IHRoaXMuJGVsLnNlbGVjdGlvblN0YXJ0LFxuICAgICAgICAgIGVuZDogdGhpcy4kZWwuc2VsZWN0aW9uRW5kXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgb2JzZXJ2ZVNjcm9sbCgpIHtcbiAgICB0aGlzLiRlbC5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIGV2ZW50ID0+IHtcbiAgICAgIHN0b3JlLlNFVF9TQ1JPTExfV0lEVEgodGhpcy4kZWwuc2Nyb2xsSGVpZ2h0KVxuICAgICAgc3RvcmUuU0VUX1NDUk9MTCh0aGlzLiRlbC5zY3JvbGxUb3ApO1xuICAgIH0pO1xuICB9XG5cbiAgb2JzZXJ2ZVJlc2l6ZSgpIHtcbiAgICB0aGlzLiRlbC5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGV2ZW50ID0+IHtcbiAgICAgIHN0b3JlLlNFVF9TQ1JPTEwodGhpcy4kZWwuc2Nyb2xsVG9wKTtcbiAgICB9KTtcbiAgfVxuXG4gIG9ic2VydmVDb21wb3NpdGlvbigpIHtcbiAgICB0aGlzLiRlbC5hZGRFdmVudExpc3RlbmVyKCdjb21wb3NpdGlvbnN0YXJ0JywgKGUpID0+IHtcbiAgICAgIHN0b3JlLlNFVF9DT01QT1NJVElPTl9BQ1RJVkUodHJ1ZSlcbiAgICAgIHN0b3JlLlNFVF9DT01QT1NJVElPTl9SRUNUUyhbXSlcbiAgICB9KVxuICAgIHRoaXMuJGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbXBvc2l0aW9udXBkYXRlJywgKGU6IGFueSkgPT4ge1xuICAgICAgc3RvcmUuU0VUX0NPTVBPU0lUSU9OX1RFWFQoZS5kYXRhKVxuICAgICAgc3RvcmUuU0VUX0NPTVBPU0lUSU9OX0FDVElWRSh0cnVlKVxuXG4gICAgfSlcbiAgICB0aGlzLiRlbC5hZGRFdmVudExpc3RlbmVyKCdjb21wb3NpdGlvbmVuZCcsIChlKSA9PiB7XG4gICAgICBzdG9yZS5TRVRfQ09NUE9TSVRJT05fQUNUSVZFKGZhbHNlKVxuICAgICAgc3RvcmUuU0VUX0NPTVBPU0lUSU9OX1JFQ1RTKFtdKVxuICAgIH0pXG4gIH1cblxuICBvYnNlcnZlS2V5RXZlbnQoKSB7XG4gICAgdGhpcy4kZWwuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGUpID0+IHtcbiAgICAgIHN0b3JlLlNFVF9LRVlCT0FSRF9FVkVOVChlKVxuICAgIH0pXG4gIH1cbn1cbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG52YXIgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIHx8XG4gIGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcnMob2JqKSB7XG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICAgIHZhciBkZXNjcmlwdG9ycyA9IHt9O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgZGVzY3JpcHRvcnNba2V5c1tpXV0gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5c1tpXSk7XG4gICAgfVxuICAgIHJldHVybiBkZXNjcmlwdG9ycztcbiAgfTtcblxudmFyIGZvcm1hdFJlZ0V4cCA9IC8lW3NkaiVdL2c7XG5leHBvcnRzLmZvcm1hdCA9IGZ1bmN0aW9uKGYpIHtcbiAgaWYgKCFpc1N0cmluZyhmKSkge1xuICAgIHZhciBvYmplY3RzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIG9iamVjdHMucHVzaChpbnNwZWN0KGFyZ3VtZW50c1tpXSkpO1xuICAgIH1cbiAgICByZXR1cm4gb2JqZWN0cy5qb2luKCcgJyk7XG4gIH1cblxuICB2YXIgaSA9IDE7XG4gIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICB2YXIgbGVuID0gYXJncy5sZW5ndGg7XG4gIHZhciBzdHIgPSBTdHJpbmcoZikucmVwbGFjZShmb3JtYXRSZWdFeHAsIGZ1bmN0aW9uKHgpIHtcbiAgICBpZiAoeCA9PT0gJyUlJykgcmV0dXJuICclJztcbiAgICBpZiAoaSA+PSBsZW4pIHJldHVybiB4O1xuICAgIHN3aXRjaCAoeCkge1xuICAgICAgY2FzZSAnJXMnOiByZXR1cm4gU3RyaW5nKGFyZ3NbaSsrXSk7XG4gICAgICBjYXNlICclZCc6IHJldHVybiBOdW1iZXIoYXJnc1tpKytdKTtcbiAgICAgIGNhc2UgJyVqJzpcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoYXJnc1tpKytdKTtcbiAgICAgICAgfSBjYXRjaCAoXykge1xuICAgICAgICAgIHJldHVybiAnW0NpcmN1bGFyXSc7XG4gICAgICAgIH1cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB4O1xuICAgIH1cbiAgfSk7XG4gIGZvciAodmFyIHggPSBhcmdzW2ldOyBpIDwgbGVuOyB4ID0gYXJnc1srK2ldKSB7XG4gICAgaWYgKGlzTnVsbCh4KSB8fCAhaXNPYmplY3QoeCkpIHtcbiAgICAgIHN0ciArPSAnICcgKyB4O1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHIgKz0gJyAnICsgaW5zcGVjdCh4KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0cjtcbn07XG5cblxuLy8gTWFyayB0aGF0IGEgbWV0aG9kIHNob3VsZCBub3QgYmUgdXNlZC5cbi8vIFJldHVybnMgYSBtb2RpZmllZCBmdW5jdGlvbiB3aGljaCB3YXJucyBvbmNlIGJ5IGRlZmF1bHQuXG4vLyBJZiAtLW5vLWRlcHJlY2F0aW9uIGlzIHNldCwgdGhlbiBpdCBpcyBhIG5vLW9wLlxuZXhwb3J0cy5kZXByZWNhdGUgPSBmdW5jdGlvbihmbiwgbXNnKSB7XG4gIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgcHJvY2Vzcy5ub0RlcHJlY2F0aW9uID09PSB0cnVlKSB7XG4gICAgcmV0dXJuIGZuO1xuICB9XG5cbiAgLy8gQWxsb3cgZm9yIGRlcHJlY2F0aW5nIHRoaW5ncyBpbiB0aGUgcHJvY2VzcyBvZiBzdGFydGluZyB1cC5cbiAgaWYgKHR5cGVvZiBwcm9jZXNzID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBleHBvcnRzLmRlcHJlY2F0ZShmbiwgbXNnKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH1cblxuICB2YXIgd2FybmVkID0gZmFsc2U7XG4gIGZ1bmN0aW9uIGRlcHJlY2F0ZWQoKSB7XG4gICAgaWYgKCF3YXJuZWQpIHtcbiAgICAgIGlmIChwcm9jZXNzLnRocm93RGVwcmVjYXRpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gICAgICB9IGVsc2UgaWYgKHByb2Nlc3MudHJhY2VEZXByZWNhdGlvbikge1xuICAgICAgICBjb25zb2xlLnRyYWNlKG1zZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKG1zZyk7XG4gICAgICB9XG4gICAgICB3YXJuZWQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIHJldHVybiBkZXByZWNhdGVkO1xufTtcblxuXG52YXIgZGVidWdzID0ge307XG52YXIgZGVidWdFbnZpcm9uO1xuZXhwb3J0cy5kZWJ1Z2xvZyA9IGZ1bmN0aW9uKHNldCkge1xuICBpZiAoaXNVbmRlZmluZWQoZGVidWdFbnZpcm9uKSlcbiAgICBkZWJ1Z0Vudmlyb24gPSBwcm9jZXNzLmVudi5OT0RFX0RFQlVHIHx8ICcnO1xuICBzZXQgPSBzZXQudG9VcHBlckNhc2UoKTtcbiAgaWYgKCFkZWJ1Z3Nbc2V0XSkge1xuICAgIGlmIChuZXcgUmVnRXhwKCdcXFxcYicgKyBzZXQgKyAnXFxcXGInLCAnaScpLnRlc3QoZGVidWdFbnZpcm9uKSkge1xuICAgICAgdmFyIHBpZCA9IHByb2Nlc3MucGlkO1xuICAgICAgZGVidWdzW3NldF0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG1zZyA9IGV4cG9ydHMuZm9ybWF0LmFwcGx5KGV4cG9ydHMsIGFyZ3VtZW50cyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJyVzICVkOiAlcycsIHNldCwgcGlkLCBtc2cpO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVidWdzW3NldF0gPSBmdW5jdGlvbigpIHt9O1xuICAgIH1cbiAgfVxuICByZXR1cm4gZGVidWdzW3NldF07XG59O1xuXG5cbi8qKlxuICogRWNob3MgdGhlIHZhbHVlIG9mIGEgdmFsdWUuIFRyeXMgdG8gcHJpbnQgdGhlIHZhbHVlIG91dFxuICogaW4gdGhlIGJlc3Qgd2F5IHBvc3NpYmxlIGdpdmVuIHRoZSBkaWZmZXJlbnQgdHlwZXMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iaiBUaGUgb2JqZWN0IHRvIHByaW50IG91dC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIE9wdGlvbmFsIG9wdGlvbnMgb2JqZWN0IHRoYXQgYWx0ZXJzIHRoZSBvdXRwdXQuXG4gKi9cbi8qIGxlZ2FjeTogb2JqLCBzaG93SGlkZGVuLCBkZXB0aCwgY29sb3JzKi9cbmZ1bmN0aW9uIGluc3BlY3Qob2JqLCBvcHRzKSB7XG4gIC8vIGRlZmF1bHQgb3B0aW9uc1xuICB2YXIgY3R4ID0ge1xuICAgIHNlZW46IFtdLFxuICAgIHN0eWxpemU6IHN0eWxpemVOb0NvbG9yXG4gIH07XG4gIC8vIGxlZ2FjeS4uLlxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAzKSBjdHguZGVwdGggPSBhcmd1bWVudHNbMl07XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDQpIGN0eC5jb2xvcnMgPSBhcmd1bWVudHNbM107XG4gIGlmIChpc0Jvb2xlYW4ob3B0cykpIHtcbiAgICAvLyBsZWdhY3kuLi5cbiAgICBjdHguc2hvd0hpZGRlbiA9IG9wdHM7XG4gIH0gZWxzZSBpZiAob3B0cykge1xuICAgIC8vIGdvdCBhbiBcIm9wdGlvbnNcIiBvYmplY3RcbiAgICBleHBvcnRzLl9leHRlbmQoY3R4LCBvcHRzKTtcbiAgfVxuICAvLyBzZXQgZGVmYXVsdCBvcHRpb25zXG4gIGlmIChpc1VuZGVmaW5lZChjdHguc2hvd0hpZGRlbikpIGN0eC5zaG93SGlkZGVuID0gZmFsc2U7XG4gIGlmIChpc1VuZGVmaW5lZChjdHguZGVwdGgpKSBjdHguZGVwdGggPSAyO1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LmNvbG9ycykpIGN0eC5jb2xvcnMgPSBmYWxzZTtcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5jdXN0b21JbnNwZWN0KSkgY3R4LmN1c3RvbUluc3BlY3QgPSB0cnVlO1xuICBpZiAoY3R4LmNvbG9ycykgY3R4LnN0eWxpemUgPSBzdHlsaXplV2l0aENvbG9yO1xuICByZXR1cm4gZm9ybWF0VmFsdWUoY3R4LCBvYmosIGN0eC5kZXB0aCk7XG59XG5leHBvcnRzLmluc3BlY3QgPSBpbnNwZWN0O1xuXG5cbi8vIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQU5TSV9lc2NhcGVfY29kZSNncmFwaGljc1xuaW5zcGVjdC5jb2xvcnMgPSB7XG4gICdib2xkJyA6IFsxLCAyMl0sXG4gICdpdGFsaWMnIDogWzMsIDIzXSxcbiAgJ3VuZGVybGluZScgOiBbNCwgMjRdLFxuICAnaW52ZXJzZScgOiBbNywgMjddLFxuICAnd2hpdGUnIDogWzM3LCAzOV0sXG4gICdncmV5JyA6IFs5MCwgMzldLFxuICAnYmxhY2snIDogWzMwLCAzOV0sXG4gICdibHVlJyA6IFszNCwgMzldLFxuICAnY3lhbicgOiBbMzYsIDM5XSxcbiAgJ2dyZWVuJyA6IFszMiwgMzldLFxuICAnbWFnZW50YScgOiBbMzUsIDM5XSxcbiAgJ3JlZCcgOiBbMzEsIDM5XSxcbiAgJ3llbGxvdycgOiBbMzMsIDM5XVxufTtcblxuLy8gRG9uJ3QgdXNlICdibHVlJyBub3QgdmlzaWJsZSBvbiBjbWQuZXhlXG5pbnNwZWN0LnN0eWxlcyA9IHtcbiAgJ3NwZWNpYWwnOiAnY3lhbicsXG4gICdudW1iZXInOiAneWVsbG93JyxcbiAgJ2Jvb2xlYW4nOiAneWVsbG93JyxcbiAgJ3VuZGVmaW5lZCc6ICdncmV5JyxcbiAgJ251bGwnOiAnYm9sZCcsXG4gICdzdHJpbmcnOiAnZ3JlZW4nLFxuICAnZGF0ZSc6ICdtYWdlbnRhJyxcbiAgLy8gXCJuYW1lXCI6IGludGVudGlvbmFsbHkgbm90IHN0eWxpbmdcbiAgJ3JlZ2V4cCc6ICdyZWQnXG59O1xuXG5cbmZ1bmN0aW9uIHN0eWxpemVXaXRoQ29sb3Ioc3RyLCBzdHlsZVR5cGUpIHtcbiAgdmFyIHN0eWxlID0gaW5zcGVjdC5zdHlsZXNbc3R5bGVUeXBlXTtcblxuICBpZiAoc3R5bGUpIHtcbiAgICByZXR1cm4gJ1xcdTAwMWJbJyArIGluc3BlY3QuY29sb3JzW3N0eWxlXVswXSArICdtJyArIHN0ciArXG4gICAgICAgICAgICdcXHUwMDFiWycgKyBpbnNwZWN0LmNvbG9yc1tzdHlsZV1bMV0gKyAnbSc7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIHN0eWxpemVOb0NvbG9yKHN0ciwgc3R5bGVUeXBlKSB7XG4gIHJldHVybiBzdHI7XG59XG5cblxuZnVuY3Rpb24gYXJyYXlUb0hhc2goYXJyYXkpIHtcbiAgdmFyIGhhc2ggPSB7fTtcblxuICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uKHZhbCwgaWR4KSB7XG4gICAgaGFzaFt2YWxdID0gdHJ1ZTtcbiAgfSk7XG5cbiAgcmV0dXJuIGhhc2g7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0VmFsdWUoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzKSB7XG4gIC8vIFByb3ZpZGUgYSBob29rIGZvciB1c2VyLXNwZWNpZmllZCBpbnNwZWN0IGZ1bmN0aW9ucy5cbiAgLy8gQ2hlY2sgdGhhdCB2YWx1ZSBpcyBhbiBvYmplY3Qgd2l0aCBhbiBpbnNwZWN0IGZ1bmN0aW9uIG9uIGl0XG4gIGlmIChjdHguY3VzdG9tSW5zcGVjdCAmJlxuICAgICAgdmFsdWUgJiZcbiAgICAgIGlzRnVuY3Rpb24odmFsdWUuaW5zcGVjdCkgJiZcbiAgICAgIC8vIEZpbHRlciBvdXQgdGhlIHV0aWwgbW9kdWxlLCBpdCdzIGluc3BlY3QgZnVuY3Rpb24gaXMgc3BlY2lhbFxuICAgICAgdmFsdWUuaW5zcGVjdCAhPT0gZXhwb3J0cy5pbnNwZWN0ICYmXG4gICAgICAvLyBBbHNvIGZpbHRlciBvdXQgYW55IHByb3RvdHlwZSBvYmplY3RzIHVzaW5nIHRoZSBjaXJjdWxhciBjaGVjay5cbiAgICAgICEodmFsdWUuY29uc3RydWN0b3IgJiYgdmFsdWUuY29uc3RydWN0b3IucHJvdG90eXBlID09PSB2YWx1ZSkpIHtcbiAgICB2YXIgcmV0ID0gdmFsdWUuaW5zcGVjdChyZWN1cnNlVGltZXMsIGN0eCk7XG4gICAgaWYgKCFpc1N0cmluZyhyZXQpKSB7XG4gICAgICByZXQgPSBmb3JtYXRWYWx1ZShjdHgsIHJldCwgcmVjdXJzZVRpbWVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbiAgfVxuXG4gIC8vIFByaW1pdGl2ZSB0eXBlcyBjYW5ub3QgaGF2ZSBwcm9wZXJ0aWVzXG4gIHZhciBwcmltaXRpdmUgPSBmb3JtYXRQcmltaXRpdmUoY3R4LCB2YWx1ZSk7XG4gIGlmIChwcmltaXRpdmUpIHtcbiAgICByZXR1cm4gcHJpbWl0aXZlO1xuICB9XG5cbiAgLy8gTG9vayB1cCB0aGUga2V5cyBvZiB0aGUgb2JqZWN0LlxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHZhbHVlKTtcbiAgdmFyIHZpc2libGVLZXlzID0gYXJyYXlUb0hhc2goa2V5cyk7XG5cbiAgaWYgKGN0eC5zaG93SGlkZGVuKSB7XG4gICAga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKTtcbiAgfVxuXG4gIC8vIElFIGRvZXNuJ3QgbWFrZSBlcnJvciBmaWVsZHMgbm9uLWVudW1lcmFibGVcbiAgLy8gaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2llL2R3dzUyc2J0KHY9dnMuOTQpLmFzcHhcbiAgaWYgKGlzRXJyb3IodmFsdWUpXG4gICAgICAmJiAoa2V5cy5pbmRleE9mKCdtZXNzYWdlJykgPj0gMCB8fCBrZXlzLmluZGV4T2YoJ2Rlc2NyaXB0aW9uJykgPj0gMCkpIHtcbiAgICByZXR1cm4gZm9ybWF0RXJyb3IodmFsdWUpO1xuICB9XG5cbiAgLy8gU29tZSB0eXBlIG9mIG9iamVjdCB3aXRob3V0IHByb3BlcnRpZXMgY2FuIGJlIHNob3J0Y3V0dGVkLlxuICBpZiAoa2V5cy5sZW5ndGggPT09IDApIHtcbiAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgIHZhciBuYW1lID0gdmFsdWUubmFtZSA/ICc6ICcgKyB2YWx1ZS5uYW1lIDogJyc7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoJ1tGdW5jdGlvbicgKyBuYW1lICsgJ10nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ3JlZ2V4cCcpO1xuICAgIH1cbiAgICBpZiAoaXNEYXRlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAnZGF0ZScpO1xuICAgIH1cbiAgICBpZiAoaXNFcnJvcih2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGJhc2UgPSAnJywgYXJyYXkgPSBmYWxzZSwgYnJhY2VzID0gWyd7JywgJ30nXTtcblxuICAvLyBNYWtlIEFycmF5IHNheSB0aGF0IHRoZXkgYXJlIEFycmF5XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIGFycmF5ID0gdHJ1ZTtcbiAgICBicmFjZXMgPSBbJ1snLCAnXSddO1xuICB9XG5cbiAgLy8gTWFrZSBmdW5jdGlvbnMgc2F5IHRoYXQgdGhleSBhcmUgZnVuY3Rpb25zXG4gIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgIHZhciBuID0gdmFsdWUubmFtZSA/ICc6ICcgKyB2YWx1ZS5uYW1lIDogJyc7XG4gICAgYmFzZSA9ICcgW0Z1bmN0aW9uJyArIG4gKyAnXSc7XG4gIH1cblxuICAvLyBNYWtlIFJlZ0V4cHMgc2F5IHRoYXQgdGhleSBhcmUgUmVnRXhwc1xuICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgYmFzZSA9ICcgJyArIFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIH1cblxuICAvLyBNYWtlIGRhdGVzIHdpdGggcHJvcGVydGllcyBmaXJzdCBzYXkgdGhlIGRhdGVcbiAgaWYgKGlzRGF0ZSh2YWx1ZSkpIHtcbiAgICBiYXNlID0gJyAnICsgRGF0ZS5wcm90b3R5cGUudG9VVENTdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIH1cblxuICAvLyBNYWtlIGVycm9yIHdpdGggbWVzc2FnZSBmaXJzdCBzYXkgdGhlIGVycm9yXG4gIGlmIChpc0Vycm9yKHZhbHVlKSkge1xuICAgIGJhc2UgPSAnICcgKyBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gIH1cblxuICBpZiAoa2V5cy5sZW5ndGggPT09IDAgJiYgKCFhcnJheSB8fCB2YWx1ZS5sZW5ndGggPT0gMCkpIHtcbiAgICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArIGJyYWNlc1sxXTtcbiAgfVxuXG4gIGlmIChyZWN1cnNlVGltZXMgPCAwKSB7XG4gICAgaWYgKGlzUmVnRXhwKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdyZWdleHAnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKCdbT2JqZWN0XScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9XG5cbiAgY3R4LnNlZW4ucHVzaCh2YWx1ZSk7XG5cbiAgdmFyIG91dHB1dDtcbiAgaWYgKGFycmF5KSB7XG4gICAgb3V0cHV0ID0gZm9ybWF0QXJyYXkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cyk7XG4gIH0gZWxzZSB7XG4gICAgb3V0cHV0ID0ga2V5cy5tYXAoZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5LCBhcnJheSk7XG4gICAgfSk7XG4gIH1cblxuICBjdHguc2Vlbi5wb3AoKTtcblxuICByZXR1cm4gcmVkdWNlVG9TaW5nbGVTdHJpbmcob3V0cHV0LCBiYXNlLCBicmFjZXMpO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdFByaW1pdGl2ZShjdHgsIHZhbHVlKSB7XG4gIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCd1bmRlZmluZWQnLCAndW5kZWZpbmVkJyk7XG4gIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICB2YXIgc2ltcGxlID0gJ1xcJycgKyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkucmVwbGFjZSgvXlwifFwiJC9nLCAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcXCIvZywgJ1wiJykgKyAnXFwnJztcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoc2ltcGxlLCAnc3RyaW5nJyk7XG4gIH1cbiAgaWYgKGlzTnVtYmVyKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJycgKyB2YWx1ZSwgJ251bWJlcicpO1xuICBpZiAoaXNCb29sZWFuKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJycgKyB2YWx1ZSwgJ2Jvb2xlYW4nKTtcbiAgLy8gRm9yIHNvbWUgcmVhc29uIHR5cGVvZiBudWxsIGlzIFwib2JqZWN0XCIsIHNvIHNwZWNpYWwgY2FzZSBoZXJlLlxuICBpZiAoaXNOdWxsKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJ251bGwnLCAnbnVsbCcpO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdEVycm9yKHZhbHVlKSB7XG4gIHJldHVybiAnWycgKyBFcnJvci5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgKyAnXSc7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0QXJyYXkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cykge1xuICB2YXIgb3V0cHV0ID0gW107XG4gIGZvciAodmFyIGkgPSAwLCBsID0gdmFsdWUubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5KHZhbHVlLCBTdHJpbmcoaSkpKSB7XG4gICAgICBvdXRwdXQucHVzaChmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLFxuICAgICAgICAgIFN0cmluZyhpKSwgdHJ1ZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXRwdXQucHVzaCgnJyk7XG4gICAgfVxuICB9XG4gIGtleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICBpZiAoIWtleS5tYXRjaCgvXlxcZCskLykpIHtcbiAgICAgIG91dHB1dC5wdXNoKGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsXG4gICAgICAgICAga2V5LCB0cnVlKSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIG91dHB1dDtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXksIGFycmF5KSB7XG4gIHZhciBuYW1lLCBzdHIsIGRlc2M7XG4gIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHZhbHVlLCBrZXkpIHx8IHsgdmFsdWU6IHZhbHVlW2tleV0gfTtcbiAgaWYgKGRlc2MuZ2V0KSB7XG4gICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0dldHRlci9TZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tHZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW1NldHRlcl0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfVxuICBpZiAoIWhhc093blByb3BlcnR5KHZpc2libGVLZXlzLCBrZXkpKSB7XG4gICAgbmFtZSA9ICdbJyArIGtleSArICddJztcbiAgfVxuICBpZiAoIXN0cikge1xuICAgIGlmIChjdHguc2Vlbi5pbmRleE9mKGRlc2MudmFsdWUpIDwgMCkge1xuICAgICAgaWYgKGlzTnVsbChyZWN1cnNlVGltZXMpKSB7XG4gICAgICAgIHN0ciA9IGZvcm1hdFZhbHVlKGN0eCwgZGVzYy52YWx1ZSwgbnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHIgPSBmb3JtYXRWYWx1ZShjdHgsIGRlc2MudmFsdWUsIHJlY3Vyc2VUaW1lcyAtIDEpO1xuICAgICAgfVxuICAgICAgaWYgKHN0ci5pbmRleE9mKCdcXG4nKSA+IC0xKSB7XG4gICAgICAgIGlmIChhcnJheSkge1xuICAgICAgICAgIHN0ciA9IHN0ci5zcGxpdCgnXFxuJykubWFwKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgICAgIHJldHVybiAnICAnICsgbGluZTtcbiAgICAgICAgICB9KS5qb2luKCdcXG4nKS5zdWJzdHIoMik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RyID0gJ1xcbicgKyBzdHIuc3BsaXQoJ1xcbicpLm1hcChmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgICAgICByZXR1cm4gJyAgICcgKyBsaW5lO1xuICAgICAgICAgIH0pLmpvaW4oJ1xcbicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbQ2lyY3VsYXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzVW5kZWZpbmVkKG5hbWUpKSB7XG4gICAgaWYgKGFycmF5ICYmIGtleS5tYXRjaCgvXlxcZCskLykpIHtcbiAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIG5hbWUgPSBKU09OLnN0cmluZ2lmeSgnJyArIGtleSk7XG4gICAgaWYgKG5hbWUubWF0Y2goL15cIihbYS16QS1aX11bYS16QS1aXzAtOV0qKVwiJC8pKSB7XG4gICAgICBuYW1lID0gbmFtZS5zdWJzdHIoMSwgbmFtZS5sZW5ndGggLSAyKTtcbiAgICAgIG5hbWUgPSBjdHguc3R5bGl6ZShuYW1lLCAnbmFtZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIilcbiAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFxcIi9nLCAnXCInKVxuICAgICAgICAgICAgICAgICAucmVwbGFjZSgvKF5cInxcIiQpL2csIFwiJ1wiKTtcbiAgICAgIG5hbWUgPSBjdHguc3R5bGl6ZShuYW1lLCAnc3RyaW5nJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5hbWUgKyAnOiAnICsgc3RyO1xufVxuXG5cbmZ1bmN0aW9uIHJlZHVjZVRvU2luZ2xlU3RyaW5nKG91dHB1dCwgYmFzZSwgYnJhY2VzKSB7XG4gIHZhciBudW1MaW5lc0VzdCA9IDA7XG4gIHZhciBsZW5ndGggPSBvdXRwdXQucmVkdWNlKGZ1bmN0aW9uKHByZXYsIGN1cikge1xuICAgIG51bUxpbmVzRXN0Kys7XG4gICAgaWYgKGN1ci5pbmRleE9mKCdcXG4nKSA+PSAwKSBudW1MaW5lc0VzdCsrO1xuICAgIHJldHVybiBwcmV2ICsgY3VyLnJlcGxhY2UoL1xcdTAwMWJcXFtcXGRcXGQ/bS9nLCAnJykubGVuZ3RoICsgMTtcbiAgfSwgMCk7XG5cbiAgaWYgKGxlbmd0aCA+IDYwKSB7XG4gICAgcmV0dXJuIGJyYWNlc1swXSArXG4gICAgICAgICAgIChiYXNlID09PSAnJyA/ICcnIDogYmFzZSArICdcXG4gJykgK1xuICAgICAgICAgICAnICcgK1xuICAgICAgICAgICBvdXRwdXQuam9pbignLFxcbiAgJykgK1xuICAgICAgICAgICAnICcgK1xuICAgICAgICAgICBicmFjZXNbMV07XG4gIH1cblxuICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArICcgJyArIG91dHB1dC5qb2luKCcsICcpICsgJyAnICsgYnJhY2VzWzFdO1xufVxuXG5cbi8vIE5PVEU6IFRoZXNlIHR5cGUgY2hlY2tpbmcgZnVuY3Rpb25zIGludGVudGlvbmFsbHkgZG9uJ3QgdXNlIGBpbnN0YW5jZW9mYFxuLy8gYmVjYXVzZSBpdCBpcyBmcmFnaWxlIGFuZCBjYW4gYmUgZWFzaWx5IGZha2VkIHdpdGggYE9iamVjdC5jcmVhdGUoKWAuXG5mdW5jdGlvbiBpc0FycmF5KGFyKSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KGFyKTtcbn1cbmV4cG9ydHMuaXNBcnJheSA9IGlzQXJyYXk7XG5cbmZ1bmN0aW9uIGlzQm9vbGVhbihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdib29sZWFuJztcbn1cbmV4cG9ydHMuaXNCb29sZWFuID0gaXNCb29sZWFuO1xuXG5mdW5jdGlvbiBpc051bGwoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IG51bGw7XG59XG5leHBvcnRzLmlzTnVsbCA9IGlzTnVsbDtcblxuZnVuY3Rpb24gaXNOdWxsT3JVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNOdWxsT3JVbmRlZmluZWQgPSBpc051bGxPclVuZGVmaW5lZDtcblxuZnVuY3Rpb24gaXNOdW1iZXIoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnbnVtYmVyJztcbn1cbmV4cG9ydHMuaXNOdW1iZXIgPSBpc051bWJlcjtcblxuZnVuY3Rpb24gaXNTdHJpbmcoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnc3RyaW5nJztcbn1cbmV4cG9ydHMuaXNTdHJpbmcgPSBpc1N0cmluZztcblxuZnVuY3Rpb24gaXNTeW1ib2woYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnc3ltYm9sJztcbn1cbmV4cG9ydHMuaXNTeW1ib2wgPSBpc1N5bWJvbDtcblxuZnVuY3Rpb24gaXNVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IHZvaWQgMDtcbn1cbmV4cG9ydHMuaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDtcblxuZnVuY3Rpb24gaXNSZWdFeHAocmUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHJlKSAmJiBvYmplY3RUb1N0cmluZyhyZSkgPT09ICdbb2JqZWN0IFJlZ0V4cF0nO1xufVxuZXhwb3J0cy5pc1JlZ0V4cCA9IGlzUmVnRXhwO1xuXG5mdW5jdGlvbiBpc09iamVjdChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNPYmplY3QgPSBpc09iamVjdDtcblxuZnVuY3Rpb24gaXNEYXRlKGQpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KGQpICYmIG9iamVjdFRvU3RyaW5nKGQpID09PSAnW29iamVjdCBEYXRlXSc7XG59XG5leHBvcnRzLmlzRGF0ZSA9IGlzRGF0ZTtcblxuZnVuY3Rpb24gaXNFcnJvcihlKSB7XG4gIHJldHVybiBpc09iamVjdChlKSAmJlxuICAgICAgKG9iamVjdFRvU3RyaW5nKGUpID09PSAnW29iamVjdCBFcnJvcl0nIHx8IGUgaW5zdGFuY2VvZiBFcnJvcik7XG59XG5leHBvcnRzLmlzRXJyb3IgPSBpc0Vycm9yO1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJztcbn1cbmV4cG9ydHMuaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG5cbmZ1bmN0aW9uIGlzUHJpbWl0aXZlKGFyZykge1xuICByZXR1cm4gYXJnID09PSBudWxsIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnYm9vbGVhbicgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdudW1iZXInIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnc3RyaW5nJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3N5bWJvbCcgfHwgIC8vIEVTNiBzeW1ib2xcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICd1bmRlZmluZWQnO1xufVxuZXhwb3J0cy5pc1ByaW1pdGl2ZSA9IGlzUHJpbWl0aXZlO1xuXG5leHBvcnRzLmlzQnVmZmVyID0gcmVxdWlyZSgnLi9zdXBwb3J0L2lzQnVmZmVyJyk7XG5cbmZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKG8pIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKTtcbn1cblxuXG5mdW5jdGlvbiBwYWQobikge1xuICByZXR1cm4gbiA8IDEwID8gJzAnICsgbi50b1N0cmluZygxMCkgOiBuLnRvU3RyaW5nKDEwKTtcbn1cblxuXG52YXIgbW9udGhzID0gWydKYW4nLCAnRmViJywgJ01hcicsICdBcHInLCAnTWF5JywgJ0p1bicsICdKdWwnLCAnQXVnJywgJ1NlcCcsXG4gICAgICAgICAgICAgICdPY3QnLCAnTm92JywgJ0RlYyddO1xuXG4vLyAyNiBGZWIgMTY6MTk6MzRcbmZ1bmN0aW9uIHRpbWVzdGFtcCgpIHtcbiAgdmFyIGQgPSBuZXcgRGF0ZSgpO1xuICB2YXIgdGltZSA9IFtwYWQoZC5nZXRIb3VycygpKSxcbiAgICAgICAgICAgICAgcGFkKGQuZ2V0TWludXRlcygpKSxcbiAgICAgICAgICAgICAgcGFkKGQuZ2V0U2Vjb25kcygpKV0uam9pbignOicpO1xuICByZXR1cm4gW2QuZ2V0RGF0ZSgpLCBtb250aHNbZC5nZXRNb250aCgpXSwgdGltZV0uam9pbignICcpO1xufVxuXG5cbi8vIGxvZyBpcyBqdXN0IGEgdGhpbiB3cmFwcGVyIHRvIGNvbnNvbGUubG9nIHRoYXQgcHJlcGVuZHMgYSB0aW1lc3RhbXBcbmV4cG9ydHMubG9nID0gZnVuY3Rpb24oKSB7XG4gIGNvbnNvbGUubG9nKCclcyAtICVzJywgdGltZXN0YW1wKCksIGV4cG9ydHMuZm9ybWF0LmFwcGx5KGV4cG9ydHMsIGFyZ3VtZW50cykpO1xufTtcblxuXG4vKipcbiAqIEluaGVyaXQgdGhlIHByb3RvdHlwZSBtZXRob2RzIGZyb20gb25lIGNvbnN0cnVjdG9yIGludG8gYW5vdGhlci5cbiAqXG4gKiBUaGUgRnVuY3Rpb24ucHJvdG90eXBlLmluaGVyaXRzIGZyb20gbGFuZy5qcyByZXdyaXR0ZW4gYXMgYSBzdGFuZGFsb25lXG4gKiBmdW5jdGlvbiAobm90IG9uIEZ1bmN0aW9uLnByb3RvdHlwZSkuIE5PVEU6IElmIHRoaXMgZmlsZSBpcyB0byBiZSBsb2FkZWRcbiAqIGR1cmluZyBib290c3RyYXBwaW5nIHRoaXMgZnVuY3Rpb24gbmVlZHMgdG8gYmUgcmV3cml0dGVuIHVzaW5nIHNvbWUgbmF0aXZlXG4gKiBmdW5jdGlvbnMgYXMgcHJvdG90eXBlIHNldHVwIHVzaW5nIG5vcm1hbCBKYXZhU2NyaXB0IGRvZXMgbm90IHdvcmsgYXNcbiAqIGV4cGVjdGVkIGR1cmluZyBib290c3RyYXBwaW5nIChzZWUgbWlycm9yLmpzIGluIHIxMTQ5MDMpLlxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGN0b3IgQ29uc3RydWN0b3IgZnVuY3Rpb24gd2hpY2ggbmVlZHMgdG8gaW5oZXJpdCB0aGVcbiAqICAgICBwcm90b3R5cGUuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBzdXBlckN0b3IgQ29uc3RydWN0b3IgZnVuY3Rpb24gdG8gaW5oZXJpdCBwcm90b3R5cGUgZnJvbS5cbiAqL1xuZXhwb3J0cy5pbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG5cbmV4cG9ydHMuX2V4dGVuZCA9IGZ1bmN0aW9uKG9yaWdpbiwgYWRkKSB7XG4gIC8vIERvbid0IGRvIGFueXRoaW5nIGlmIGFkZCBpc24ndCBhbiBvYmplY3RcbiAgaWYgKCFhZGQgfHwgIWlzT2JqZWN0KGFkZCkpIHJldHVybiBvcmlnaW47XG5cbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhhZGQpO1xuICB2YXIgaSA9IGtleXMubGVuZ3RoO1xuICB3aGlsZSAoaS0tKSB7XG4gICAgb3JpZ2luW2tleXNbaV1dID0gYWRkW2tleXNbaV1dO1xuICB9XG4gIHJldHVybiBvcmlnaW47XG59O1xuXG5mdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eShvYmosIHByb3ApIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApO1xufVxuXG52YXIga0N1c3RvbVByb21pc2lmaWVkU3ltYm9sID0gdHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgPyBTeW1ib2woJ3V0aWwucHJvbWlzaWZ5LmN1c3RvbScpIDogdW5kZWZpbmVkO1xuXG5leHBvcnRzLnByb21pc2lmeSA9IGZ1bmN0aW9uIHByb21pc2lmeShvcmlnaW5hbCkge1xuICBpZiAodHlwZW9mIG9yaWdpbmFsICE9PSAnZnVuY3Rpb24nKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcIm9yaWdpbmFsXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEZ1bmN0aW9uJyk7XG5cbiAgaWYgKGtDdXN0b21Qcm9taXNpZmllZFN5bWJvbCAmJiBvcmlnaW5hbFtrQ3VzdG9tUHJvbWlzaWZpZWRTeW1ib2xdKSB7XG4gICAgdmFyIGZuID0gb3JpZ2luYWxba0N1c3RvbVByb21pc2lmaWVkU3ltYm9sXTtcbiAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJ1dGlsLnByb21pc2lmeS5jdXN0b21cIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24nKTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGZuLCBrQ3VzdG9tUHJvbWlzaWZpZWRTeW1ib2wsIHtcbiAgICAgIHZhbHVlOiBmbiwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiBmYWxzZSwgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIGZuO1xuICB9XG5cbiAgZnVuY3Rpb24gZm4oKSB7XG4gICAgdmFyIHByb21pc2VSZXNvbHZlLCBwcm9taXNlUmVqZWN0O1xuICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgcHJvbWlzZVJlc29sdmUgPSByZXNvbHZlO1xuICAgICAgcHJvbWlzZVJlamVjdCA9IHJlamVjdDtcbiAgICB9KTtcblxuICAgIHZhciBhcmdzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFyZ3MucHVzaChhcmd1bWVudHNbaV0pO1xuICAgIH1cbiAgICBhcmdzLnB1c2goZnVuY3Rpb24gKGVyciwgdmFsdWUpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcHJvbWlzZVJlamVjdChlcnIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvbWlzZVJlc29sdmUodmFsdWUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdHJ5IHtcbiAgICAgIG9yaWdpbmFsLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcHJvbWlzZVJlamVjdChlcnIpO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGZuLCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob3JpZ2luYWwpKTtcblxuICBpZiAoa0N1c3RvbVByb21pc2lmaWVkU3ltYm9sKSBPYmplY3QuZGVmaW5lUHJvcGVydHkoZm4sIGtDdXN0b21Qcm9taXNpZmllZFN5bWJvbCwge1xuICAgIHZhbHVlOiBmbiwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiBmYWxzZSwgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoXG4gICAgZm4sXG4gICAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhvcmlnaW5hbClcbiAgKTtcbn1cblxuZXhwb3J0cy5wcm9taXNpZnkuY3VzdG9tID0ga0N1c3RvbVByb21pc2lmaWVkU3ltYm9sXG5cbmZ1bmN0aW9uIGNhbGxiYWNraWZ5T25SZWplY3RlZChyZWFzb24sIGNiKSB7XG4gIC8vIGAhcmVhc29uYCBndWFyZCBpbnNwaXJlZCBieSBibHVlYmlyZCAoUmVmOiBodHRwczovL2dvby5nbC90NUlTNk0pLlxuICAvLyBCZWNhdXNlIGBudWxsYCBpcyBhIHNwZWNpYWwgZXJyb3IgdmFsdWUgaW4gY2FsbGJhY2tzIHdoaWNoIG1lYW5zIFwibm8gZXJyb3JcbiAgLy8gb2NjdXJyZWRcIiwgd2UgZXJyb3Itd3JhcCBzbyB0aGUgY2FsbGJhY2sgY29uc3VtZXIgY2FuIGRpc3Rpbmd1aXNoIGJldHdlZW5cbiAgLy8gXCJ0aGUgcHJvbWlzZSByZWplY3RlZCB3aXRoIG51bGxcIiBvciBcInRoZSBwcm9taXNlIGZ1bGZpbGxlZCB3aXRoIHVuZGVmaW5lZFwiLlxuICBpZiAoIXJlYXNvbikge1xuICAgIHZhciBuZXdSZWFzb24gPSBuZXcgRXJyb3IoJ1Byb21pc2Ugd2FzIHJlamVjdGVkIHdpdGggYSBmYWxzeSB2YWx1ZScpO1xuICAgIG5ld1JlYXNvbi5yZWFzb24gPSByZWFzb247XG4gICAgcmVhc29uID0gbmV3UmVhc29uO1xuICB9XG4gIHJldHVybiBjYihyZWFzb24pO1xufVxuXG5mdW5jdGlvbiBjYWxsYmFja2lmeShvcmlnaW5hbCkge1xuICBpZiAodHlwZW9mIG9yaWdpbmFsICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwib3JpZ2luYWxcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24nKTtcbiAgfVxuXG4gIC8vIFdlIERPIE5PVCByZXR1cm4gdGhlIHByb21pc2UgYXMgaXQgZ2l2ZXMgdGhlIHVzZXIgYSBmYWxzZSBzZW5zZSB0aGF0XG4gIC8vIHRoZSBwcm9taXNlIGlzIGFjdHVhbGx5IHNvbWVob3cgcmVsYXRlZCB0byB0aGUgY2FsbGJhY2sncyBleGVjdXRpb25cbiAgLy8gYW5kIHRoYXQgdGhlIGNhbGxiYWNrIHRocm93aW5nIHdpbGwgcmVqZWN0IHRoZSBwcm9taXNlLlxuICBmdW5jdGlvbiBjYWxsYmFja2lmaWVkKCkge1xuICAgIHZhciBhcmdzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFyZ3MucHVzaChhcmd1bWVudHNbaV0pO1xuICAgIH1cblxuICAgIHZhciBtYXliZUNiID0gYXJncy5wb3AoKTtcbiAgICBpZiAodHlwZW9mIG1heWJlQ2IgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBsYXN0IGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbicpO1xuICAgIH1cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGNiID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbWF5YmVDYi5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xuICAgIH07XG4gICAgLy8gSW4gdHJ1ZSBub2RlIHN0eWxlIHdlIHByb2Nlc3MgdGhlIGNhbGxiYWNrIG9uIGBuZXh0VGlja2Agd2l0aCBhbGwgdGhlXG4gICAgLy8gaW1wbGljYXRpb25zIChzdGFjaywgYHVuY2F1Z2h0RXhjZXB0aW9uYCwgYGFzeW5jX2hvb2tzYClcbiAgICBvcmlnaW5hbC5hcHBseSh0aGlzLCBhcmdzKVxuICAgICAgLnRoZW4oZnVuY3Rpb24ocmV0KSB7IHByb2Nlc3MubmV4dFRpY2soY2IsIG51bGwsIHJldCkgfSxcbiAgICAgICAgICAgIGZ1bmN0aW9uKHJlaikgeyBwcm9jZXNzLm5leHRUaWNrKGNhbGxiYWNraWZ5T25SZWplY3RlZCwgcmVqLCBjYikgfSk7XG4gIH1cblxuICBPYmplY3Quc2V0UHJvdG90eXBlT2YoY2FsbGJhY2tpZmllZCwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG9yaWdpbmFsKSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGNhbGxiYWNraWZpZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGdldE93blByb3BlcnR5RGVzY3JpcHRvcnMob3JpZ2luYWwpKTtcbiAgcmV0dXJuIGNhbGxiYWNraWZpZWQ7XG59XG5leHBvcnRzLmNhbGxiYWNraWZ5ID0gY2FsbGJhY2tpZnk7XG4iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0J1ZmZlcihhcmcpIHtcbiAgcmV0dXJuIGFyZyAmJiB0eXBlb2YgYXJnID09PSAnb2JqZWN0J1xuICAgICYmIHR5cGVvZiBhcmcuY29weSA9PT0gJ2Z1bmN0aW9uJ1xuICAgICYmIHR5cGVvZiBhcmcuZmlsbCA9PT0gJ2Z1bmN0aW9uJ1xuICAgICYmIHR5cGVvZiBhcmcucmVhZFVJbnQ4ID09PSAnZnVuY3Rpb24nO1xufSIsImlmICh0eXBlb2YgT2JqZWN0LmNyZWF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAvLyBpbXBsZW1lbnRhdGlvbiBmcm9tIHN0YW5kYXJkIG5vZGUuanMgJ3V0aWwnIG1vZHVsZVxuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGluaGVyaXRzKGN0b3IsIHN1cGVyQ3Rvcikge1xuICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yXG4gICAgY3Rvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ3Rvci5wcm90b3R5cGUsIHtcbiAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgIHZhbHVlOiBjdG9yLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xufSBlbHNlIHtcbiAgLy8gb2xkIHNjaG9vbCBzaGltIGZvciBvbGQgYnJvd3NlcnNcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvclxuICAgIHZhciBUZW1wQ3RvciA9IGZ1bmN0aW9uICgpIHt9XG4gICAgVGVtcEN0b3IucHJvdG90eXBlID0gc3VwZXJDdG9yLnByb3RvdHlwZVxuICAgIGN0b3IucHJvdG90eXBlID0gbmV3IFRlbXBDdG9yKClcbiAgICBjdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGN0b3JcbiAgfVxufVxuIiwiaW1wb3J0IEJhc2VDb21wb25lbnQgZnJvbSBcIi4vQmFzZUNvbXBvbmVudFwiO1xuaW1wb3J0IHN0b3JlIGZyb20gXCIuLi9zdG9yZVwiO1xuaW1wb3J0IHsgVG9rZW4gfSBmcm9tIFwiLi4vdHlwZXNcIjtcbmltcG9ydCBLb2ppVG9rZW5pemVyIGZyb20gJy4uL3Rva2VuaXplcnMvS29qaVRva2VuaXplcic7XG5pbXBvcnQgT3ZlcmxheSBmcm9tICcuL092ZXJsYXknO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEaXNwbGF5IGV4dGVuZHMgQmFzZUNvbXBvbmVudCB7XG4gICRlbDogSFRNTEVsZW1lbnQ7XG4gIHNyY1BhbmVsOiBIVE1MRWxlbWVudDtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuJGVsID0gdGhpcy5oKCdkaXYnLCAna29qaS1lZGl0b3ItZGlzcGxheScpO1xuICAgIHRoaXMuc3JjUGFuZWwgPSB0aGlzLmgoJ2RpdicsICdrb2ppLWVkaXRvci1zcmMtcGFuZWwnKTtcbiAgICB0aGlzLiRlbC5hcHBlbmRDaGlsZCh0aGlzLnNyY1BhbmVsKTtcbiAgICBjb25zdCBmaXJzdExpbmUgPSB0aGlzLmgoJ2RpdicsICdrb2ppLWVkaXRvci1saW5lJyk7XG4gICAgdGhpcy5zcmNQYW5lbC5hcHBlbmRDaGlsZChmaXJzdExpbmUpO1xuXG4gICAgdGhpcy5hZGQobmV3IE92ZXJsYXkoKSlcblxuICAgIHN0b3JlLiR3YXRjaChcInNyY1wiLCAoKSA9PiB0aGlzLm9uU3JjQ2hhbmdlKCkpO1xuICAgIHN0b3JlLiR3YXRjaChbJ3NlbGVjdGlvbicsICdzcmMnLCAnZm9jdXMnXSwgKCkgPT4ge1xuICAgICAgdGhpcy51cGRhdGVTZWxlY3R0aW9uUmVjdHMoKVxuICAgICAgdGhpcy51cGRhdGVDYXJldFBvcygpXG4gICAgfSlcbiAgICBzdG9yZS4kd2F0Y2goJ3Njcm9sbCcsICgpID0+IHtcbiAgICAgIGNvbnN0IG9mZnNldCA9XG4gICAgICAgIHRoaXMuJGVsLnNjcm9sbFdpZHRoIC1cbiAgICAgICAgdGhpcy4kZWwuY2xpZW50V2lkdGggLVxuICAgICAgICBzdG9yZS5zdGF0ZS5zY3JvbGw7XG4gICAgICB0aGlzLiRlbC5zY3JvbGxUbyhvZmZzZXQsIDApXG4gICAgfSlcbiAgICAvLyBzdG9yZS4kd2F0Y2goJ2NvbXBvc2l0aW9uQWN0aXZlJywgKCkgPT4ge1xuICAgIC8vICAgaWYgKHN0b3JlLnN0YXRlLmNvbXBvc2l0aW9uQWN0aXZlKSB7XG4gICAgLy8gICAgIGNvbnN0IHsgc3RhcnQgfSA9IHN0b3JlLnN0YXRlLnNlbGVjdGlvblxuICAgIC8vICAgICBjb25zdCBsZW5ndGggPSBzdG9yZS5zdGF0ZS5jb21wb3NpdGlvblRleHQubGVuZ3RoXG4gICAgLy8gICAgIGNvbnN0IHJlY3RzID0gdGhpcy5zZWxlY3Rpb25Ub1JlY3RzKHN0YXJ0IC0gbGVuZ3RoLCBzdGFydClcbiAgICAvLyAgICAgc3RvcmUuU0VUX0NPTVBPU0lUSU9OX1JFQ1RTKHJlY3RzKVxuICAgIC8vICAgfVxuICAgIC8vIH0pXG4gICAgc3RvcmUuJHdhdGNoKCdrZXlib2FyZEV2ZW50JywgKCkgPT4ge1xuICAgICAgY29uc3QgYXJyb3dLZXlzID0gWydBcnJvd1VwJywgJ0Fycm93TGVmdCcsICdBcnJvd1JpZ2h0JywgJ0Fycm93RG93biddXG4gICAgICBjb25zdCBlID0gc3RvcmUuc3RhdGUua2V5Ym9hcmRFdmVudFxuICAgICAgaWYgKGUgJiYgYXJyb3dLZXlzLmluY2x1ZGVzKGUua2V5KSkge1xuICAgICAgICBzdG9yZS5TRVRfUkVRVUVTVEVEX1NFTEVDVElPTih0aGlzLnByb3Bvc2VTZWxlY3Rpb24oZSkpXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBnZXQgbGluZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuJGVsLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2tvamktZWRpdG9yLWxpbmUnKVxuICB9XG5cbiAgcHJpdmF0ZSBwcm9wb3NlU2VsZWN0aW9uKGU6IEtleWJvYXJkRXZlbnQpOiB7IHN0YXJ0OiBudW1iZXIsIGVuZDogbnVtYmVyIH0ge1xuICAgIGNvbnN0IHRleHQgPSBzdG9yZS5zdGF0ZS5zcmMudGV4dFxuICAgIGNvbnN0IHNlbCA9IHN0b3JlLnNlbGVjdGlvbldpdGhMaW5lTnVtXG4gICAgY29uc3QgeyBzdGFydCwgZW5kIH0gPSBzdG9yZS5zdGF0ZS5zZWxlY3Rpb25cbiAgICBzd2l0Y2ggKGUua2V5KSB7XG4gICAgICBjYXNlICdBcnJvd1VwJzpcbiAgICAgICAgaWYgKHN0YXJ0ID4gMCkge1xuICAgICAgICAgIHJldHVybiBlLnNoaWZ0S2V5ID8geyBzdGFydDogc3RhcnQgLSAxLCBlbmQgfSA6IHsgc3RhcnQ6IHN0YXJ0IC0gMSwgZW5kOiBzdGFydCAtIDEgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnQXJyb3dEb3duJzpcbiAgICAgICAgaWYgKGVuZCA8IHRleHQubGVuZ3RoKSB7XG4gICAgICAgICAgcmV0dXJuIGUuc2hpZnRLZXkgPyB7IHN0YXJ0LCBlbmQ6IGVuZCArIDEgfSA6IHsgc3RhcnQ6IGVuZCArIDEsIGVuZDogZW5kICsgMSB9XG4gICAgICAgIH1cbiAgICAgIGNhc2UgJ0Fycm93UmlnaHQnOlxuICAgICAgICBjb25zdCBwcmV2TGluZSA9IHN0b3JlLnByZXZMaW5lXG4gICAgICAgIGxldCByaWdodFBvcyA9IDBcbiAgICAgICAgaWYgKHByZXZMaW5lID09PSB1bmRlZmluZWQpIHJldHVybiB7IHN0YXJ0LCBlbmQgfVxuICAgICAgICBpZiAoc2VsLnN0YXJ0LnBvcyA8PSBwcmV2TGluZS5sZW5ndGgpIHtcbiAgICAgICAgICByaWdodFBvcyA9IHRoaXMuaW5saW5lUG9zVG9BYnNvbHV0ZVBvcyhzZWwuc3RhcnQubGluZW51bSAtIDEsIHNlbC5zdGFydC5wb3MpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmlnaHRQb3MgPSBzdGFydCAtIHNlbC5lbmQucG9zIC0gMVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlLnNoaWZ0S2V5ID8geyBzdGFydDogcmlnaHRQb3MsIGVuZCB9IDogeyBzdGFydDogcmlnaHRQb3MsIGVuZDogcmlnaHRQb3MgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ0Fycm93TGVmdCc6XG4gICAgICAgIGNvbnN0IG5leHRMaW5lID0gc3RvcmUubmV4dExpbmVcbiAgICAgICAgY29uc29sZS5sb2coXCJuZXh0IGxpbmVcIiwgbmV4dExpbmUpXG4gICAgICAgIGxldCBsZWZ0UG9zID0gMFxuICAgICAgICBpZiAobmV4dExpbmUgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHsgc3RhcnQsIGVuZCB9XG4gICAgICAgIGlmIChzZWwuZW5kLnBvcyA8PSBuZXh0TGluZS5sZW5ndGgpIHtcbiAgICAgICAgICBsZWZ0UG9zID0gdGhpcy5pbmxpbmVQb3NUb0Fic29sdXRlUG9zKHNlbC5lbmQubGluZW51bSArIDEsIHNlbC5lbmQucG9zKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxlZnRQb3MgPSB0aGlzLmlubGluZVBvc1RvQWJzb2x1dGVQb3Moc2VsLmVuZC5saW5lbnVtICsgMSwgbmV4dExpbmUubGVuZ3RoKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlLnNoaWZ0S2V5ID8geyBzdGFydCwgZW5kOiBsZWZ0UG9zIH0gOiB7IHN0YXJ0OiBsZWZ0UG9zLCBlbmQ6IGxlZnRQb3MgfVxuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGJyZWFrXG4gICAgfVxuICAgIC8vIGRvIG5vdGhpaW5nXG4gICAgcmV0dXJuIHsgc3RhcnQsIGVuZCB9XG4gIH1cblxuICBwcml2YXRlIGlubGluZVBvc1RvQWJzb2x1dGVQb3MobGluZU51bTogbnVtYmVyLCBwb3M6IG51bWJlcik6IG51bWJlciB7XG4gICAgY29uc3QgdGV4dCA9IHN0b3JlLnN0YXRlLnNyYy50ZXh0XG4gICAgbGV0IGFic3BvcyA9IDBcbiAgICB0ZXh0LnNwbGl0KFwiXFxuXCIpLnNsaWNlKDAsIGxpbmVOdW0pLmZvckVhY2goKGwpID0+IGFic3BvcyArPSBsLmxlbmd0aCArIDEpXG4gICAgYWJzcG9zICs9IHBvc1xuICAgIHJldHVybiBhYnNwb3NcbiAgfVxuXG4gIHJlc2l6ZSh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikge1xuICAgIHRoaXMuJGVsLnN0eWxlLndpZHRoID0gd2lkdGggKyBcInB4XCI7XG4gICAgdGhpcy4kZWwuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0ICsgXCJweFwiO1xuICB9XG5cbiAgcmVuZGVyTGluZSh0ZXh0OiBzdHJpbmcpOiBIVE1MRWxlbWVudCB7XG4gICAgY29uc3QgdG9rZW5pemVyID0gbmV3IEtvamlUb2tlbml6ZXIodGV4dClcbiAgICBjb25zdCB0b2tlbnMgPSB0b2tlbml6ZXIudG9rZW5pemUoKVxuICAgIGNvbnN0IGh0bWwgPSB0b2tlbnMubWFwKHQgPT4gYDxzcGFuIGNsYXNzPVwidG9rZW4gJHt0LnR5cGV9XCI+JHt0LnZhbHVlfTwvc3Bhbj5gKS5qb2luKCcnKVxuICAgIGNvbnN0IGxpbmVFbGVtID0gdGhpcy5oKCdkaXYnLCAna29qaS1lZGl0b3ItbGluZScpO1xuICAgIGxpbmVFbGVtLmlubmVySFRNTCA9IGh0bWw7IC8vaHRtbFxuICAgIHJldHVybiBsaW5lRWxlbTtcbiAgfVxuXG4gIGxpbmVBdChudW06IG51bWJlcikge1xuICAgIHJldHVybiB0aGlzLnNyY1BhbmVsLmNoaWxkTm9kZXMuaXRlbShudW0pO1xuICB9XG5cbiAgZGVsZXRlTGluZXMocmFuZ2U6IHsgc3RhcnQ6IG51bWJlciwgZW5kOiBudW1iZXI7IH0pIHtcbiAgICBjb25zdCBjaGlsZHJlbiA9IFtdO1xuICAgIGZvciAobGV0IGkgPSByYW5nZS5zdGFydDsgaSA8PSByYW5nZS5lbmQ7IGkrKykge1xuICAgICAgY2hpbGRyZW4ucHVzaCh0aGlzLmxpbmVBdChpKSk7XG4gICAgfVxuICAgIGZvciAobGV0IGNoaWxkIG9mIGNoaWxkcmVuKSB7XG4gICAgICBpZiAoY2hpbGQpIHRoaXMuc3JjUGFuZWwucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICAgIH1cbiAgfVxuXG4gIGluc2VydExpbmVBdChzcmNUZXh0OiBzdHJpbmcsIHRhcmdldExpbmVOdW06IG51bWJlcikge1xuICAgIGNvbnN0IGxpbmUgPSB0aGlzLnJlbmRlckxpbmUoc3JjVGV4dCk7XG4gICAgY29uc3QgbGluZXMgPSB0aGlzLnNyY1BhbmVsLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2tvamktZWRpdG9yLWxpbmUnKTtcbiAgICBsZXQgdGFyZ2V0O1xuICAgIGlmIChsaW5lcy5sZW5ndGggPT0gMCkge1xuICAgICAgdGhpcy5zcmNQYW5lbC5hcHBlbmRDaGlsZChsaW5lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRhcmdldExpbmVOdW0gPCBsaW5lcy5sZW5ndGgpIHtcbiAgICAgICAgdGFyZ2V0ID0gbGluZXNbdGFyZ2V0TGluZU51bV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0YXJnZXQgPSBsaW5lc1stMV07XG4gICAgICB9XG4gICAgICB0aGlzLnNyY1BhbmVsLmluc2VydEJlZm9yZShsaW5lLCB0YXJnZXQpO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlckFsbCgpIHtcbiAgICB0aGlzLnNyY1BhbmVsLmlubmVySFRNTCA9IFwiXCI7XG4gICAgc3RvcmUuc3RhdGUuc3JjLnRleHQuc3BsaXQoXCJcXG5cIikuZm9yRWFjaCgobCkgPT4ge1xuICAgICAgY29uc3QgbGluZSA9IHRoaXMucmVuZGVyTGluZShsKTtcbiAgICAgIHRoaXMuc3JjUGFuZWwuYXBwZW5kQ2hpbGQobGluZSk7XG4gICAgfSk7XG4gIH1cblxuICB1cGRhdGVDYXJldFBvcygpIHtcbiAgICBjb25zdCBzZWwgPSBzdG9yZS5zZWxlY3Rpb25XaXRoTGluZU51bTtcbiAgICBjb25zdCBsaW5lcyA9IHRoaXMuJGVsLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2tvamktZWRpdG9yLWxpbmUnKTtcbiAgICBjb25zdCBsaW5lID0gbGluZXNbc2VsLnN0YXJ0LmxpbmVudW1dXG4gICAgY29uc3QgcGFyZW50UmVjdCA9IHRoaXMuc3JjUGFuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICBpZiAobGluZS50ZXh0Q29udGVudCkge1xuICAgICAgY29uc3QgcmVjdCA9IHRoaXMuY3JlYXRlUmVsYXRpdmVSZWN0KGxpbmUsIHNlbC5zdGFydC5wb3MsIHNlbC5lbmQucG9zKVxuICAgICAgc3RvcmUuU0VUX0NBUkVUX1BPUyhyZWN0LngsIHJlY3QueSlcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcmVjdCA9IGxpbmUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICAgIHN0b3JlLlNFVF9DQVJFVF9QT1MocmVjdC54IC0gcGFyZW50UmVjdC54LCByZWN0LnkgLSBwYXJlbnRSZWN0LnkpXG4gICAgfVxuICB9XG5cbiAgdXBkYXRlU2VsZWN0dGlvblJlY3RzKCkge1xuICAgIGNvbnN0IHJlY3RzOiBET01SZWN0W10gPSBbXTtcbiAgICBjb25zdCBzZWwgPSBzdG9yZS5zZWxlY3Rpb25XaXRoTGluZU51bTtcbiAgICBjb25zdCBsaW5lcyA9IHRoaXMuJGVsLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2tvamktZWRpdG9yLWxpbmUnKTtcbiAgICAvLyB3aGVuIHNlbGVjdGlvbiBpcyB3aXRoaW4gc2luZ2xlIGxpbmVcbiAgICBpZiAoc2VsLnN0YXJ0LmxpbmVudW0gPT0gc2VsLmVuZC5saW5lbnVtKSB7XG4gICAgICBjb25zdCBsaW5lID0gbGluZXNbc2VsLnN0YXJ0LmxpbmVudW1dXG4gICAgICBpZiAobGluZS50ZXh0Q29udGVudCkge1xuICAgICAgICBjb25zdCByZWN0ID0gdGhpcy5jcmVhdGVSZWxhdGl2ZVJlY3QobGluZSwgc2VsLnN0YXJ0LnBvcywgc2VsLmVuZC5wb3MpXG4gICAgICAgIHJlY3RzLnB1c2gocmVjdClcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gd2hlbiBzZWxlY3Rpb24gaGFzIG11bHRpcGxlIGxpbmVzXG4gICAgICBjb25zdCBoZWFkID0gbGluZXNbc2VsLnN0YXJ0LmxpbmVudW1dXG4gICAgICBjb25zdCB0YWlsID0gbGluZXNbc2VsLmVuZC5saW5lbnVtXVxuICAgICAgaWYgKGhlYWQudGV4dENvbnRlbnQpXG4gICAgICAgIHJlY3RzLnB1c2godGhpcy5jcmVhdGVSZWxhdGl2ZVJlY3QoaGVhZCwgc2VsLnN0YXJ0LnBvcywgaGVhZC50ZXh0Q29udGVudC5sZW5ndGgpKVxuICAgICAgaWYgKHRhaWwudGV4dENvbnRlbnQpXG4gICAgICAgIHJlY3RzLnB1c2godGhpcy5jcmVhdGVSZWxhdGl2ZVJlY3QodGFpbCwgMCwgc2VsLmVuZC5wb3MpKVxuICAgICAgLy8gbGluZXMgYmV0d2VlbiBoZWFkIGFuZCB0YWlsXG4gICAgICBmb3IgKGxldCBpID0gc2VsLnN0YXJ0LmxpbmVudW0gKyAxOyBpIDwgc2VsLmVuZC5saW5lbnVtOyBpKyspIHtcbiAgICAgICAgY29uc3QgbGluZSA9IGxpbmVzW2ldXG4gICAgICAgIGlmIChsaW5lLnRleHRDb250ZW50KSB7XG4gICAgICAgICAgcmVjdHMucHVzaCh0aGlzLmNyZWF0ZVJlbGF0aXZlUmVjdChsaW5lLCAwLCBsaW5lLnRleHRDb250ZW50Lmxlbmd0aCkpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgc3RvcmUuU0VUX1NFTEVURUNURURfUkVDVFMocmVjdHMpO1xuICB9XG5cbiAgZ2V0TGluZVBvcyhwb3M6IG51bWJlcik6IHsgcG9zOiBudW1iZXIsIGxpbmVOdW06IG51bWJlciB9IHtcbiAgICBjb25zdCB0ZXh0ID0gc3RvcmUuc3RhdGUuc3JjLnRleHRcbiAgICBsZXQgbGluZU51bSA9IDBcbiAgICBsZXQgaW5saW5lUG9zID0gMFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGV4dC5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGkgPT0gcG9zKSByZXR1cm4geyBwb3M6IGlubGluZVBvcywgbGluZU51bTogbGluZU51bSB9XG4gICAgICBpZiAodGV4dFtpXSA9PT0gXCJcXG5cIikge1xuICAgICAgICBsaW5lTnVtKytcbiAgICAgICAgaW5saW5lUG9zID0gMFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5saW5lUG9zKytcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgcG9zOiBpbmxpbmVQb3MsIGxpbmVOdW06IGxpbmVOdW0gfVxuICB9XG5cbiAgc2VsZWN0aW9uVG9SZWN0cyhzdGFydDogbnVtYmVyLCBlbmQ6IG51bWJlcikge1xuICAgIGNvbnN0IHJlY3RzOiBET01SZWN0W10gPSBbXVxuICAgIGNvbnN0IGxpbmVzID0gdGhpcy5saW5lc1xuICAgIGNvbnN0IHNMaW5lUG9zID0gdGhpcy5nZXRMaW5lUG9zKHN0YXJ0KVxuICAgIGNvbnN0IGVMaW5lUG9zID0gdGhpcy5nZXRMaW5lUG9zKGVuZClcbiAgICAvLyBzaW5nbGUgbGluZVxuICAgIGlmIChzTGluZVBvcy5saW5lTnVtID09IGVMaW5lUG9zLmxpbmVOdW0pIHtcbiAgICAgIGlmIChzTGluZVBvcy5wb3MgPT0gZUxpbmVQb3MucG9zKSByZXR1cm4gW11cbiAgICAgIGNvbnN0IGxpbmUgPSBsaW5lc1tzTGluZVBvcy5saW5lTnVtXVxuICAgICAgY29uc3QgcmVjdCA9IHRoaXMuY3JlYXRlUmVsYXRpdmVSZWN0KGxpbmUsIHNMaW5lUG9zLnBvcywgZUxpbmVQb3MucG9zKVxuICAgICAgcmVjdHMucHVzaChyZWN0KVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBtdWx0aWxpbmVcbiAgICAgIGNvbnN0IGhlYWRMaW5lID0gbGluZXNbc0xpbmVQb3MubGluZU51bV1cbiAgICAgIGNvbnN0IGhlYWRSZWN0ID0gdGhpcy5jcmVhdGVSZWxhdGl2ZVJlY3QoaGVhZExpbmUsIHNMaW5lUG9zLnBvcywgaGVhZExpbmUudGV4dENvbnRlbnQ/Lmxlbmd0aCB8fCAwKVxuICAgICAgY29uc3QgdGFpbExpbmUgPSBsaW5lc1tlTGluZVBvcy5saW5lTnVtXVxuICAgICAgY29uc3QgdGFpbFJlY3QgPSB0aGlzLmNyZWF0ZVJlbGF0aXZlUmVjdCh0YWlsTGluZSwgMCwgZUxpbmVQb3MucG9zKVxuICAgICAgcmVjdHMucHVzaChoZWFkUmVjdClcbiAgICAgIHJlY3RzLnB1c2godGFpbFJlY3QpXG4gICAgICBmb3IgKGxldCBpID0gc0xpbmVQb3MubGluZU51bSArIDE7IGkgPCBlTGluZVBvcy5saW5lTnVtOyBpKyspIHtcbiAgICAgICAgbGV0IGxpbmUgPSBsaW5lc1tpXVxuICAgICAgICBsZXQgcmVjdCA9IHRoaXMuY3JlYXRlUmVsYXRpdmVSZWN0KGxpbmUsIDAsIGxpbmUudGV4dENvbnRlbnQ/Lmxlbmd0aCB8fCAwKVxuICAgICAgICByZWN0cy5wdXNoKHJlY3QpXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZWN0c1xuICB9XG5cbiAgcHJpdmF0ZSB3YWxrRE9NKG5vZGU6IE5vZGUgfCBudWxsLCBmdW5jOiAobjogTm9kZSB8IG51bGwpID0+IHZvaWQpIHtcbiAgICBmdW5jKG5vZGUpO1xuICAgIG5vZGUgPSBub2RlID8gbm9kZS5maXJzdENoaWxkIDogbnVsbDtcbiAgICB3aGlsZSAobm9kZSkge1xuICAgICAgdGhpcy53YWxrRE9NKG5vZGUsIGZ1bmMpO1xuICAgICAgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgfVxuICB9XG5cbiAgY3JlYXRlUmVsYXRpdmVSZWN0KG5vZGU6IE5vZGUsIHN0YXJ0OiBudW1iZXIsIGVuZDogbnVtYmVyKTogRE9NUmVjdCB7XG4gICAgLy8gY3JlYXRlIHJhbmdlIGZyb20gc2VsZWN0aW9uIHBvc2l0aW9uXG4gICAgY29uc3QgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICAgIGlmIChub2RlLmZpcnN0Q2hpbGQgPT0gbnVsbCkgdGhyb3cgRXJyb3JcbiAgICBsZXQgY291bnQgPSAwXG4gICAgbGV0IHN0YXJ0Tm9kZTogTm9kZSA9IG5vZGVcbiAgICBsZXQgZW5kTm9kZTogTm9kZSA9IG5vZGVcbiAgICBsZXQgc3RhcnRPZmZzZXQgPSAwXG4gICAgbGV0IGVuZE9mZnNldCA9IDBcbiAgICB0aGlzLndhbGtET00obm9kZSwgKG4pID0+IHtcbiAgICAgIGlmIChuICYmIG4ubm9kZVR5cGUgPT0gTm9kZS5URVhUX05PREUgJiYgbi50ZXh0Q29udGVudCkge1xuICAgICAgICBjb25zdCBjaGFycyA9IG4udGV4dENvbnRlbnQuc3BsaXQoJycpXG4gICAgICAgIGxldCBvZmZzZXQgPSAwXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjb3VudCsrXG4gICAgICAgICAgb2Zmc2V0KytcbiAgICAgICAgICBpZiAoY291bnQgPT09IHN0YXJ0KSB7XG4gICAgICAgICAgICBzdGFydE5vZGUgPSBuXG4gICAgICAgICAgICBzdGFydE9mZnNldCA9IG9mZnNldFxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY291bnQgPT09IGVuZCkge1xuICAgICAgICAgICAgZW5kTm9kZSA9IG5cbiAgICAgICAgICAgIGVuZE9mZnNldCA9IG9mZnNldFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gICAgaWYgKCFzdGFydE5vZGUgfHwgIWVuZE5vZGUpIHRocm93IEVycm9yKCdub2RlIG5vdCBmb3VuZCcpXG4gICAgcmFuZ2Uuc2V0U3RhcnQoc3RhcnROb2RlLCBzdGFydE9mZnNldCk7XG4gICAgcmFuZ2Uuc2V0RW5kKGVuZE5vZGUsIGVuZE9mZnNldCk7XG4gICAgLy8gY3JlYXRlIHJlY3QgZnJvbSB0aGUgcmFuZ2VcbiAgICBjb25zdCBwYXJlbnRSZWN0ID0gdGhpcy5zcmNQYW5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgIGNvbnN0IHJlY3QgPSByYW5nZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICByZWN0LnggPSByZWN0LnggLSBwYXJlbnRSZWN0LnhcbiAgICByZWN0LnkgPSByZWN0LnkgLSBwYXJlbnRSZWN0LnlcbiAgICByYW5nZS5kZXRhY2goKTtcbiAgICByZXR1cm4gcmVjdDtcbiAgfVxuXG4gIG9uU3JjQ2hhbmdlKCkge1xuICAgIGlmICghc3RvcmUuc3RhdGUuaW5wdXQuaW5wdXRFdmVudCkgcmV0dXJuIHRoaXMucmVuZGVyQWxsKCk7XG4gICAgc3dpdGNoIChzdG9yZS5zdGF0ZS5pbnB1dC5pbnB1dEV2ZW50LmlucHV0VHlwZSkge1xuICAgICAgY2FzZSBcImluc2VydFRleHRcIjpcbiAgICAgICAgdGhpcy5kZWxldGVMaW5lcyhzdG9yZS5wcmV2U2VsZWN0ZWRMaW5lcyk7XG4gICAgICAgIHRoaXMuaW5zZXJ0TGluZUF0KHN0b3JlLmN1cnJlbnRMaW5lLCBzdG9yZS5wcmV2U2VsZWN0ZWRMaW5lcy5lbmQpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJpbnNlcnRMaW5lQnJlYWtcIjpcbiAgICAgICAgdGhpcy5kZWxldGVMaW5lcyhzdG9yZS5wcmV2U2VsZWN0ZWRMaW5lcyk7XG4gICAgICAgIGNvbnN0IGxpbmUxID0gc3RvcmUubGluZXNbc3RvcmUuY3VycmVudFNlbGVjdGVkTGluZXMuc3RhcnQgLSAxXTtcbiAgICAgICAgY29uc3QgbGluZTIgPSBzdG9yZS5saW5lc1tzdG9yZS5jdXJyZW50U2VsZWN0ZWRMaW5lcy5zdGFydF07XG4gICAgICAgIHRoaXMuaW5zZXJ0TGluZUF0KGxpbmUxLCBzdG9yZS5wcmV2U2VsZWN0ZWRMaW5lcy5lbmQpO1xuICAgICAgICB0aGlzLmluc2VydExpbmVBdChsaW5lMiwgc3RvcmUucHJldlNlbGVjdGVkTGluZXMuZW5kICsgMSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImluc2VydENvbXBvc2l0aW9uVGV4dFwiOlxuICAgICAgICB0aGlzLmRlbGV0ZUxpbmVzKHN0b3JlLnByZXZTZWxlY3RlZExpbmVzKTtcbiAgICAgICAgdGhpcy5pbnNlcnRMaW5lQXQoc3RvcmUuY3VycmVudExpbmUsIHN0b3JlLnByZXZTZWxlY3RlZExpbmVzLmVuZCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImluc2VydEZyb21QYXN0ZVwiOlxuICAgICAgICB0aGlzLnJlbmRlckFsbCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJpbnNlcnRGcm9tUGFzdGVBc1F1b3RhdGlvblwiOlxuICAgICAgICB0aGlzLnJlbmRlckFsbCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJpbnNlcnRGcm9tRHJvcFwiOlxuICAgICAgICB0aGlzLnJlbmRlckFsbCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJpbnNlcnRSZXBsYWNlbWVudFRleHRcIjpcbiAgICAgICAgdGhpcy5yZW5kZXJBbGwoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiaW5zZXJ0RnJvbVlhbmtcIjpcbiAgICAgICAgdGhpcy5yZW5kZXJBbGwoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZGVsZXRlV29yZEJhY2t3YXJkXCI6XG4gICAgICAgIHRoaXMuZGVsZXRlTGluZXMoc3RvcmUucHJldlNlbGVjdGVkTGluZXMpO1xuICAgICAgICB0aGlzLmluc2VydExpbmVBdChzdG9yZS5jdXJyZW50TGluZSwgc3RvcmUucHJldlNlbGVjdGVkTGluZXMuZW5kKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZGVsZXRlV29yZEZvcndhcmRcIjpcbiAgICAgICAgaWYgKHN0b3JlLm5leHRDaGFyID09IFwiXFxuXCIgJiYgIXN0b3JlLmlucHV0SGFzU2VsZWN0aW9uKSB0aGlzLmRlbGV0ZUxpbmVzKHN0b3JlLnByZXZTZWxlY3RlZExpbmVzKTtcbiAgICAgICAgdGhpcy5kZWxldGVMaW5lcyhzdG9yZS5wcmV2U2VsZWN0ZWRMaW5lcyk7XG4gICAgICAgIHRoaXMuaW5zZXJ0TGluZUF0KHN0b3JlLmN1cnJlbnRMaW5lLCBzdG9yZS5wcmV2U2VsZWN0ZWRMaW5lcy5lbmQpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJkZWxldGVTb2Z0TGluZUJhY2t3YXJkXCI6XG4gICAgICAgIHRoaXMuZGVsZXRlTGluZXMoc3RvcmUucHJldlNlbGVjdGVkTGluZXMpO1xuICAgICAgICB0aGlzLmluc2VydExpbmVBdChzdG9yZS5jdXJyZW50TGluZSwgc3RvcmUucHJldlNlbGVjdGVkTGluZXMuZW5kKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZGVsZXRlU29mdExpbmVGb3J3YXJkXCI6XG4gICAgICAgIGlmIChzdG9yZS5uZXh0Q2hhciA9PSBcIlxcblwiICYmICFzdG9yZS5pbnB1dEhhc1NlbGVjdGlvbikgdGhpcy5kZWxldGVMaW5lcyhzdG9yZS5wcmV2U2VsZWN0ZWRMaW5lcyk7XG4gICAgICAgIHRoaXMuZGVsZXRlTGluZXMoc3RvcmUucHJldlNlbGVjdGVkTGluZXMpO1xuICAgICAgICB0aGlzLmluc2VydExpbmVBdChzdG9yZS5jdXJyZW50TGluZSwgc3RvcmUucHJldlNlbGVjdGVkTGluZXMuZW5kKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZGVsZXRlRW50aXJlU29mdExpbmVcIjpcbiAgICAgICAgdGhpcy5kZWxldGVMaW5lcyhzdG9yZS5wcmV2U2VsZWN0ZWRMaW5lcyk7XG4gICAgICAgIHRoaXMuaW5zZXJ0TGluZUF0KHN0b3JlLmN1cnJlbnRMaW5lLCBzdG9yZS5wcmV2U2VsZWN0ZWRMaW5lcy5lbmQpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJkZWxldGVIYXJkTGluZUJhY2t3YXJkXCI6XG4gICAgICAgIHRoaXMuZGVsZXRlTGluZXMoc3RvcmUucHJldlNlbGVjdGVkTGluZXMpO1xuICAgICAgICB0aGlzLmluc2VydExpbmVBdChzdG9yZS5jdXJyZW50TGluZSwgc3RvcmUucHJldlNlbGVjdGVkTGluZXMuZW5kKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZGVsZXRlSGFyZExpbmVGb3J3YXJkXCI6XG4gICAgICAgIGlmIChzdG9yZS5uZXh0Q2hhciA9PSBcIlxcblwiICYmICFzdG9yZS5pbnB1dEhhc1NlbGVjdGlvbikgdGhpcy5kZWxldGVMaW5lcyhzdG9yZS5wcmV2U2VsZWN0ZWRMaW5lcyk7XG4gICAgICAgIHRoaXMuZGVsZXRlTGluZXMoc3RvcmUucHJldlNlbGVjdGVkTGluZXMpO1xuICAgICAgICB0aGlzLmluc2VydExpbmVBdChzdG9yZS5jdXJyZW50TGluZSwgc3RvcmUucHJldlNlbGVjdGVkTGluZXMuZW5kKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZGVsZXRlQnlEcmFnXCI6XG4gICAgICAgIHRoaXMucmVuZGVyQWxsKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImRlbGV0ZUJ5Q3V0XCI6XG4gICAgICAgIHRoaXMucmVuZGVyQWxsKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImRlbGV0ZUNvbnRlbnRcIjpcbiAgICAgICAgdGhpcy5yZW5kZXJBbGwoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZGVsZXRlQ29udGVudEJhY2t3YXJkXCI6XG4gICAgICAgIGlmIChzdG9yZS5wcmV2UG9zLmNoYXIgPT0gMCkge1xuICAgICAgICAgIGNvbnN0IHsgc3RhcnQsIGVuZCB9ID0gc3RvcmUucHJldlNlbGVjdGVkTGluZXNcbiAgICAgICAgICB0aGlzLmRlbGV0ZUxpbmVzKHsgc3RhcnQ6IHN0YXJ0IC0gMSwgZW5kIH0pO1xuICAgICAgICAgIHRoaXMuaW5zZXJ0TGluZUF0KHN0b3JlLmN1cnJlbnRMaW5lLCBzdG9yZS5wcmV2U2VsZWN0ZWRMaW5lcy5zdGFydCAtIDEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuZGVsZXRlTGluZXMoc3RvcmUucHJldlNlbGVjdGVkTGluZXMpO1xuICAgICAgICAgIHRoaXMuaW5zZXJ0TGluZUF0KHN0b3JlLmN1cnJlbnRMaW5lLCBzdG9yZS5wcmV2U2VsZWN0ZWRMaW5lcy5zdGFydCk7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJkZWxldGVDb250ZW50Rm9yd2FyZFwiOlxuICAgICAgICBpZiAoc3RvcmUubmV4dENoYXIgPT0gXCJcXG5cIiAmJiAhc3RvcmUuaW5wdXRIYXNTZWxlY3Rpb24pIHRoaXMuZGVsZXRlTGluZXMoc3RvcmUucHJldlNlbGVjdGVkTGluZXMpO1xuICAgICAgICB0aGlzLmRlbGV0ZUxpbmVzKHN0b3JlLnByZXZTZWxlY3RlZExpbmVzKTtcbiAgICAgICAgdGhpcy5pbnNlcnRMaW5lQXQoc3RvcmUuY3VycmVudExpbmUsIHN0b3JlLnByZXZTZWxlY3RlZExpbmVzLmVuZCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImhpc3RvcnlVbmRvXCI6XG4gICAgICAgIHRoaXMucmVuZGVyQWxsKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImhpc3RvcnlSZWRvXCI6XG4gICAgICAgIHRoaXMucmVuZGVyQWxsKCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgSW5wdXRTdHJlYW0gfSBmcm9tICcuL1Rva2VuaXplcic7XG5pbXBvcnQgVG9rZW5pemVyIGZyb20gJy4vVG9rZW5pemVyJztcbmltcG9ydCB7IFRva2VuLCBTdGF0ZSwgVE9LRU5fVFlQRSB9IGZyb20gJy4uL3R5cGVzJztcblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBLb2ppVG9rZW5pemVyIGV4dGVuZHMgVG9rZW5pemVyIHtcbiAgICB0b2tlbkluZGV4ID0gMDtcbiAgICBpczogSW5wdXRTdHJlYW07XG4gICAgc3RhdGU6IFN0YXRlO1xuICAgIGN1cnJlbnQ6IGFueTtcbiAgICBicmFja2V0czogeyBbczogc3RyaW5nXTogVE9LRU5fVFlQRSB9ID0ge1xuICAgICAgICAn77yIJzogJ0ZVUklHQU5BX1NUQVJUJyxcbiAgICAgICAgJ++8iSc6ICdGVVJJR0FOQV9FTkQnLFxuICAgICAgICAn772bJzogJ0tBRVJJX1NUQVJUJyxcbiAgICAgICAgJ++9nSc6ICdLQUVSSV9FTkQnLFxuICAgICAgICAn44CUJzogJ09LVVJJR0FOQV9TVEFSVCcsXG4gICAgICAgICfjgJUnOiAnT0tVUklHQU5BX0VORCcsXG4gICAgICAgICfjgJAnOiAnQU5OT19TVEFSVCcsXG4gICAgICAgICfjgJEnOiAnQU5OT19FTkQnXG4gICAgfTtcblxuICAgIGNvbnN0cnVjdG9yKHNyYzogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKHNyYyk7XG4gICAgICAgIHRoaXMuaXMgPSBuZXcgSW5wdXRTdHJlYW0oc3JjKVxuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgYnJhY2tldHM6IFtdLFxuICAgICAgICAgICAgZXJyb3JzOiBbXSxcbiAgICAgICAgICAgIGluSW5saW5lUHJlOiBmYWxzZSxcbiAgICAgICAgICAgIGluSW5saW5lQm9keTogZmFsc2UsXG4gICAgICAgICAgICBpbkJsb2NrVGFnOiBmYWxzZSxcbiAgICAgICAgICAgIGluRnVyaWdhbmE6IGZhbHNlLFxuICAgICAgICAgICAgaW5LYWVyaXRlbjogZmFsc2UsXG4gICAgICAgICAgICBpbk9rdXJpZ2FuYTogZmFsc2UsXG4gICAgICAgICAgICBpbkFubm86IGZhbHNlXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgaXNCcmFja2V0KGNoOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICfvvIjvvInvvZvvvZ3jgJDjgJHjgJTjgJUnLmluZGV4T2YoY2gpID4gLTE7XG4gICAgfVxuXG4gICAgaXNDb2xvbihjaDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBjaCA9PT0gJ++8mic7XG4gICAgfVxuXG4gICAgaXNMZXR0ZXIoY2g6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICBsZXQgcmVnZXggPSBbXG4gICAgICAgICAgICAvW1xcdTAwMjAtXFx1MDA3RV0vLFxuICAgICAgICAgICAgL1tcXHUyMDAwLVxcdTIwNkZdLyxcbiAgICAgICAgICAgIC9bXFx1NEUwMC1cXHU5RkVBXFx1MzQwMC1cXHU0REZGXS8sXG4gICAgICAgICAgICAvW1xcdTMwNDAtXFx1MzA5Rl0vLFxuICAgICAgICAgICAgL1tcXHUzMEEwLVxcdTMwRkZcXHUzMUYwLVxcdTMxRkZdLyxcbiAgICAgICAgICAgIC9bXFx1MUIwMDAtXFx1MUIwMDBcXHUxQjEwMC1cXHUxQjEyRl0vLFxuICAgICAgICAgICAgL1tcXHUzMTkwLVxcdTMxOUZdLyxcbiAgICAgICAgICAgIC9bXFx1MzAwMC1cXHUzMDA3XFx1MzAwQy1cXHUzMDBGXFx1MzAxMi1cXHUzMDEzXFx1MzAxNi1cXHUzMDNGXS8sXG4gICAgICAgICAgICAvW1xcdUZGMDAtXFx1RkYwMlxcdUZGMDQtXFx1RkYwN1xcdUZGMEItXFx1RkYwRVxcdUZGMTAtXFx1RkYxOVxcdUZGMUItXFx1RkYzQVxcdUZGM0UtXFx1RkY1QVxcdUZGNUUtXFx1RkZFRl0vXG4gICAgICAgIF07XG4gICAgICAgIHJldHVybiByZWdleC5zb21lKHIgPT4gY2gubWF0Y2gocikgIT0gbnVsbCk7XG4gICAgfVxuXG4gICAgaXNNYXRjaGluZ1BhaXIoY2gxOiBzdHJpbmcsIGNoMjogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAoY2gxID09PSAn44CKJyAmJiBjaDIgPT09ICfjgIsnKSB8fFxuICAgICAgICAgICAgKGNoMSA9PT0gJ++8iCcgJiYgY2gyID09PSAn77yJJykgfHxcbiAgICAgICAgICAgIChjaDEgPT09ICfvvZsnICYmIGNoMiA9PT0gJ++9nScpIHx8XG4gICAgICAgICAgICAoY2gxID09PSAn44CUJyAmJiBjaDIgPT09ICfjgJUnKSB8fFxuICAgICAgICAgICAgKGNoMSA9PT0gJ++8uycgJiYgY2gyID09PSAn77y9JykgfHxcbiAgICAgICAgICAgIChjaDEgPT09ICfvvLvvvI8nICYmIGNoMiA9PT0gJ++8vScpIHx8XG4gICAgICAgICAgICAoY2gxID09PSAn44CQJyAmJiBjaDIgPT09ICfjgJEnKVxuICAgICAgICApO1xuICAgIH1cbiAgICByZWFkV2hpbGUocHJlZGljYXRlOiAoY2g6IHN0cmluZykgPT4gYm9vbGVhbikge1xuICAgICAgICBsZXQgYnVmID0gJyc7XG4gICAgICAgIHdoaWxlICghdGhpcy5pcy5lb2YoKSAmJiBwcmVkaWNhdGUodGhpcy5pcy5wZWVrKCkpKSBidWYgKz0gdGhpcy5pcy5uZXh0KCk7XG4gICAgICAgIHJldHVybiBidWY7XG4gICAgfVxuXG4gICAgcmVhZFRleHRTZWdtZW50KCk6IFRva2VuIHtcbiAgICAgICAgY29uc3Qgc2VnID0gdGhpcy5yZWFkV2hpbGUodGhpcy5pc0xldHRlcik7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmluSW5saW5lUHJlKSB7XG4gICAgICAgICAgICByZXR1cm4geyB0eXBlOiAnSU5MSU5FX05BTUUnLCB2YWx1ZTogc2VnIH07XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5pbkJsb2NrVGFnKSB7XG4gICAgICAgICAgICByZXR1cm4geyB0eXBlOiAnQkxPQ0tfTkFNRScsIHZhbHVlOiBzZWcgfTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmluRnVyaWdhbmEpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHR5cGU6ICdGVVJJR0FOQScsIHZhbHVlOiBzZWcgfTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmluS2Flcml0ZW4pIHtcbiAgICAgICAgICAgIHJldHVybiB7IHR5cGU6ICdLQUVSSVRFTicsIHZhbHVlOiBzZWcgfTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmluT2t1cmlnYW5hKSB7XG4gICAgICAgICAgICByZXR1cm4geyB0eXBlOiAnT0tVUklHQU5BJywgdmFsdWU6IHNlZyB9O1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuaW5Bbm5vKSB7XG4gICAgICAgICAgICByZXR1cm4geyB0eXBlOiAnQU5OT1RBVElPTicsIHZhbHVlOiBzZWcgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IHR5cGU6ICdURVhUX1NFR01FTlQnLCB2YWx1ZTogc2VnIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZWFkQnJhY2tldCgpOiBUb2tlbiB7XG4gICAgICAgIGNvbnN0IGNoID0gdGhpcy5pcy5uZXh0KCk7XG4gICAgICAgIGxldCB0b2s6IFRva2VuO1xuICAgICAgICBpZiAoJ++9m++8iOOAkOOAlCcuaW5kZXhPZihjaCkgPiAtMSkge1xuICAgICAgICAgICAgdG9rID0geyB0eXBlOiB0aGlzLmJyYWNrZXRzW2NoXSwgdmFsdWU6IGNoIH07XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmJyYWNrZXRzLnB1c2godG9rKTtcbiAgICAgICAgICAgIGlmIChjaCA9PT0gJ++8iCcpIHRoaXMuc3RhdGUuaW5GdXJpZ2FuYSA9IHRydWU7XG4gICAgICAgICAgICBpZiAoY2ggPT09ICfvvZsnKSB0aGlzLnN0YXRlLmluS2Flcml0ZW4gPSB0cnVlO1xuICAgICAgICAgICAgaWYgKGNoID09PSAn44CUJykgdGhpcy5zdGF0ZS5pbk9rdXJpZ2FuYSA9IHRydWU7XG4gICAgICAgICAgICBpZiAoY2ggPT09ICfjgJAnKSB0aGlzLnN0YXRlLmluQW5ubyA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0b2sgPSB7IHR5cGU6IHRoaXMuYnJhY2tldHNbY2hdLCB2YWx1ZTogY2ggfTtcbiAgICAgICAgICAgIGNvbnN0IHBhaXIgPSB0aGlzLnN0YXRlLmJyYWNrZXRzW3RoaXMuc3RhdGUuYnJhY2tldHMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBpZiAocGFpciAmJiB0aGlzLmlzTWF0Y2hpbmdQYWlyKHBhaXIudmFsdWUsIGNoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuYnJhY2tldHMucG9wKCk7XG4gICAgICAgICAgICAgICAgcGFpci5wYWlySW5kZXggPSB0aGlzLnRva2VuSW5kZXg7XG4gICAgICAgICAgICAgICAgdG9rLnBhaXJJbmRleCA9IHBhaXIudG9rZW5JbmRleDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5icmFja2V0cy5wdXNoKHRvayk7XG4gICAgICAgICAgICAgICAgdG9rLmVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0b2suZXJyb3JNc2cgPSAn5a++5b+c44GZ44KL5ous5byn44GM44GC44KK44G+44Gb44KT77yOJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaCA9PT0gJ++8iScpIHRoaXMuc3RhdGUuaW5GdXJpZ2FuYSA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKGNoID09PSAn772dJykgdGhpcy5zdGF0ZS5pbkthZXJpdGVuID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoY2ggPT09ICfjgJUnKSB0aGlzLnN0YXRlLmluT2t1cmlnYW5hID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoY2ggPT09ICfjgJEnKSB0aGlzLnN0YXRlLmluQW5ubyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b2s7XG4gICAgfVxuXG4gICAgcmVhZElubGluZVN0YXJ0KCk6IFRva2VuIHtcbiAgICAgICAgbGV0IGNoID0gdGhpcy5pcy5uZXh0KCk7XG4gICAgICAgIHRoaXMuc3RhdGUuaW5JbmxpbmVQcmUgPSB0cnVlO1xuICAgICAgICBsZXQgdG9rOiBUb2tlbiA9IHsgdHlwZTogJ0lOTElORV9TVEFSVCcsIHZhbHVlOiBjaCB9O1xuICAgICAgICB0aGlzLnN0YXRlLmJyYWNrZXRzLnB1c2godG9rKTtcbiAgICAgICAgcmV0dXJuIHRvaztcbiAgICB9XG5cbiAgICByZWFkSW5saW5lRW5kKCk6IFRva2VuIHtcbiAgICAgICAgbGV0IGNoID0gdGhpcy5pcy5uZXh0KCk7XG4gICAgICAgIGxldCB0b2s6IFRva2VuID0geyB0eXBlOiAnSU5MSU5FX0VORCcsIHZhbHVlOiBjaCB9O1xuICAgICAgICB0aGlzLnN0YXRlLmluSW5saW5lUHJlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc3RhdGUuaW5JbmxpbmVCb2R5ID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IGxhc3QgPSB0aGlzLnN0YXRlLmJyYWNrZXRzW3RoaXMuc3RhdGUuYnJhY2tldHMubGVuZ3RoIC0gMV07XG4gICAgICAgIGlmIChsYXN0ICYmIGxhc3QudHlwZSA9PT0gJ0lOTElORV9TVEFSVCcpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuYnJhY2tldHMucG9wKCk7XG4gICAgICAgICAgICBsYXN0LnBhaXJJbmRleCA9IHRoaXMudG9rZW5JbmRleDtcbiAgICAgICAgICAgIHRvay5wYWlySW5kZXggPSBsYXN0LnRva2VuSW5kZXg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0b2suZXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgdG9rLmVycm9yTXNnID0gJ+WvvuW/nOOBmeOCi+aLrOW8p+OBjOOBguOCiuOBvuOBm+OCk++8jic7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRvaztcbiAgICB9XG5cbiAgICByZWFkSUQoKTogVG9rZW4ge1xuICAgICAgICBsZXQgY2ggPSB0aGlzLmlzLm5leHQoKVxuICAgICAgICBjb25zdCBpZCA9IHRoaXMucmVhZFdoaWxlKHRoaXMuaXNMZXR0ZXIpO1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5pbklubGluZVByZSB8fCB0aGlzLnN0YXRlLmluQmxvY2tUYWcpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHR5cGU6ICdJRCcsIHZhbHVlOiBjaCArIGlkIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IHR5cGU6ICdVTktOT1dOJywgdmFsdWU6IGNoICsgaWQsIGVycm9yOiB0cnVlLCBlcnJvck1zZzogJ+OBk+OBk+OBq0lE44Gv5pu444GR44G+44Gb44KTJyB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZWFkQ2xhc3MoKTogVG9rZW4ge1xuICAgICAgICBsZXQgY2ggPSB0aGlzLmlzLm5leHQoKVxuICAgICAgICBjb25zdCBpZCA9IHRoaXMucmVhZFdoaWxlKHRoaXMuaXNMZXR0ZXIpO1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5pbklubGluZVByZSB8fCB0aGlzLnN0YXRlLmluQmxvY2tUYWcpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHR5cGU6ICdDTEFTUycsIHZhbHVlOiBjaCArIGlkIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IHR5cGU6ICdVTktOT1dOJywgdmFsdWU6IGNoICsgaWQsIGVycm9yOiB0cnVlLCBlcnJvck1zZzogJ+OBk+OBk+OBq+OCr+ODqeOCueOBr+abuOOBkeOBvuOBm+OCkycgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVhZEJsb2NrU3RhcnQoKTogVG9rZW4ge1xuICAgICAgICBsZXQgY2ggPSB0aGlzLmlzLm5leHQoKTtcbiAgICAgICAgbGV0IHRvazogVG9rZW47XG4gICAgICAgIHRoaXMuc3RhdGUuaW5CbG9ja1RhZyA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLmlzLnBlZWsoKSA9PT0gJ++8jycpIHtcbiAgICAgICAgICAgIHRvayA9IHsgdHlwZTogJ0JMT0NLX0NMT1NJTkdfU1RBUlQnLCB2YWx1ZTogY2ggKyB0aGlzLmlzLm5leHQoKSB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdG9rID0geyB0eXBlOiAnQkxPQ0tfU1RBUlQnLCB2YWx1ZTogY2ggfTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXRlLmJyYWNrZXRzLnB1c2godG9rKTtcbiAgICAgICAgcmV0dXJuIHRvaztcbiAgICB9XG5cbiAgICByZWFkQmxvY2tFbmQoKTogVG9rZW4ge1xuICAgICAgICBsZXQgY2ggPSB0aGlzLmlzLm5leHQoKTtcbiAgICAgICAgdGhpcy5zdGF0ZS5pbkJsb2NrVGFnID0gZmFsc2U7XG4gICAgICAgIGxldCB0b2s6IFRva2VuID0geyB0eXBlOiAnQkxPQ0tfRU5EJywgdmFsdWU6IGNoIH07XG4gICAgICAgIGNvbnN0IGxhc3QgPSB0aGlzLnN0YXRlLmJyYWNrZXRzW3RoaXMuc3RhdGUuYnJhY2tldHMubGVuZ3RoIC0gMV07XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIGxhc3QgJiZcbiAgICAgICAgICAgIChsYXN0LnR5cGUgPT09ICdCTE9DS19TVEFSVCcgfHwgbGFzdC50eXBlID09PSAnQkxPQ0tfQ0xPU0lOR19TVEFSVCcpXG4gICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5icmFja2V0cy5wb3AoKTtcbiAgICAgICAgICAgIGxhc3QucGFpckluZGV4ID0gdGhpcy50b2tlbkluZGV4O1xuICAgICAgICAgICAgdG9rLnBhaXJJbmRleCA9IGxhc3QudG9rZW5JbmRleDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRvay5lcnJvciA9IHRydWU7XG4gICAgICAgICAgICB0b2suZXJyb3JNc2cgPSAn5a++5b+c44GZ44KL5ous5byn44GM44GC44KK44G+44Gb44KT77yOJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9rO1xuICAgIH1cblxuICAgIHJlYWRDb2xvbigpOiBUb2tlbiB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmluSW5saW5lUHJlKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmluSW5saW5lUHJlID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmluSW5saW5lQm9keSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgdHlwZTogJ0NPTE9OJywgdmFsdWU6IHRoaXMuaXMubmV4dCgpIH07XG4gICAgfVxuXG4gICAgcmVhZFNlcCgpOiBUb2tlbiB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmluSW5saW5lQm9keSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogJ0lOTElORV9TRVAnLCB2YWx1ZTogdGhpcy5pcy5uZXh0KCkgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IHR5cGU6ICdGVVJJR0FOQV9TRVAnLCB2YWx1ZTogdGhpcy5pcy5uZXh0KCkgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlYWRMaW5lQnJlYWsoKTogVG9rZW4ge1xuICAgICAgICBjb25zdCBjaCA9IHRoaXMuaXMubmV4dCgpO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICB0aGlzLnN0YXRlLmluSW5saW5lUHJlIHx8XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmluQmxvY2tUYWcgfHxcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuaW5LYWVyaXRlbiB8fFxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5pbk9rdXJpZ2FuYVxuICAgICAgICApIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ0xCJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogY2gsXG4gICAgICAgICAgICAgICAgZXJyb3I6IHRydWUsXG4gICAgICAgICAgICAgICAgZXJyb3JNc2c6ICfjgZPjgZPjgavmlLnooYzjgpLlkKvjgoHjgovjgZPjgajjga/jgafjgY3jgb7jgZvjgpPjgIInXG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogJ0xCJywgdmFsdWU6IGNoLCBlcnJvcjogZmFsc2UgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlYWROZXh0KCk6IFRva2VuIHwgbnVsbCB7XG4gICAgICAgIGlmICh0aGlzLmlzLmVvZigpKSByZXR1cm4gbnVsbDtcbiAgICAgICAgbGV0IGNoID0gdGhpcy5pcy5wZWVrKCk7XG4gICAgICAgIGxldCBzdGFydFBvcyA9IHRoaXMuaXMucG9zO1xuICAgICAgICBsZXQgdG9rOiBUb2tlbiB8IG51bGwgPSBudWxsO1xuICAgICAgICBpZiAoY2ggPT09ICfjgIonKSB0b2sgPSB0aGlzLnJlYWRJbmxpbmVTdGFydCgpO1xuICAgICAgICBpZiAoY2ggPT09ICfjgIsnKSB0b2sgPSB0aGlzLnJlYWRJbmxpbmVFbmQoKTtcbiAgICAgICAgaWYgKGNoID09PSAn77y7JykgdG9rID0gdGhpcy5yZWFkQmxvY2tTdGFydCgpO1xuICAgICAgICBpZiAoY2ggPT09ICfvvL0nKSB0b2sgPSB0aGlzLnJlYWRCbG9ja0VuZCgpO1xuICAgICAgICBpZiAoY2ggPT09ICfvvZwnKSB0b2sgPSB0aGlzLnJlYWRTZXAoKTtcbiAgICAgICAgaWYgKGNoID09PSAn77yDJykgdG9rID0gdGhpcy5yZWFkSUQoKTtcbiAgICAgICAgaWYgKGNoID09PSAn77yKJykgdG9rID0gdGhpcy5yZWFkQ2xhc3MoKTtcbiAgICAgICAgaWYgKHRoaXMuaXNMZXR0ZXIoY2gpKSB0b2sgPSB0aGlzLnJlYWRUZXh0U2VnbWVudCgpO1xuICAgICAgICBpZiAodGhpcy5pc0JyYWNrZXQoY2gpKSB0b2sgPSB0aGlzLnJlYWRCcmFja2V0KCk7XG4gICAgICAgIGlmICh0aGlzLmlzQ29sb24oY2gpKSB0b2sgPSB0aGlzLnJlYWRDb2xvbigpO1xuICAgICAgICBpZiAoY2ggPT09ICdcXG4nKSB0b2sgPSB0aGlzLnJlYWRMaW5lQnJlYWsoKTtcbiAgICAgICAgaWYgKCF0b2spIHtcbiAgICAgICAgICAgIC8vIGhhbmRsZSB1bmtub3duIGNoYXJhY3RlcnNcbiAgICAgICAgICAgIGNoID0gdGhpcy5pcy5uZXh0KCk7XG4gICAgICAgICAgICB0b2sgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ1VOS05PV04nLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBjaCxcbiAgICAgICAgICAgICAgICBlcnJvcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBlcnJvck1zZzogYOS4jeato+OBquaWh+Wtl++8miR7Y2h9YFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICB0b2suc3RhcnQgPSBzdGFydFBvcztcbiAgICAgICAgdG9rLmVuZCA9IHRoaXMuaXMucG9zO1xuICAgICAgICB0b2sudG9rZW5JbmRleCA9IHRoaXMudG9rZW5JbmRleCsrO1xuICAgICAgICByZXR1cm4gdG9rO1xuICAgIH1cblxuICAgIHRva2VuaXplKCk6IEFycmF5PFRva2VuPiB7XG4gICAgICAgIGNvbnN0IGJ1ZjogQXJyYXk8VG9rZW4+ID0gW107XG4gICAgICAgIHdoaWxlICh0aGlzLnBlZWsoKSkge1xuICAgICAgICAgICAgYnVmLnB1c2goPFRva2VuPnRoaXMubmV4dCgpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBtYXJrIHBhaXIgZXJyb3JzXG4gICAgICAgIHRoaXMuc3RhdGUuYnJhY2tldHMuZm9yRWFjaChwID0+IHtcbiAgICAgICAgICAgIHAuZXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgcC5lcnJvck1zZyA9ICflr77lv5zjgZnjgovmi6zlvKfjgYzjgYLjgorjgb7jgZvjgpPvvI4nO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGJ1ZjtcbiAgICB9XG59XG4iLCJpbXBvcnQgQmFzZUNvbXBvbmVudCBmcm9tIFwiLi9CYXNlQ29tcG9uZW50XCI7XG5pbXBvcnQgc3RvcmUgZnJvbSBcIi4uL3N0b3JlXCI7XG5pbXBvcnQgeyB3cml0ZUhlYXBTbmFwc2hvdCB9IGZyb20gXCJ2OFwiO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNvdXJjZVNlbGVjdG9yIGV4dGVuZHMgQmFzZUNvbXBvbmVudCB7XG4gICAgJGVsOiBIVE1MRWxlbWVudDtcbiAgICBzZWxEaXZzOiBIVE1MRGl2RWxlbWVudFtdO1xuICAgIGNvbXBvc2l0aW9uRGl2czogSFRNTEVsZW1lbnRbXTtcbiAgICBjYXJldDogSFRNTFNwYW5FbGVtZW50O1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuJGVsID0gdGhpcy5oKCdkaXYnLCAna29qaS1lZGl0b3Itb3ZlcmxheScpO1xuICAgICAgICB0aGlzLmNhcmV0ID0gdGhpcy5oKCdzcGFuJywgJ2tvamktZWRpdG9yLWNhcmV0Jyk7XG4gICAgICAgIHRoaXMuJGVsLmFwcGVuZENoaWxkKHRoaXMuY2FyZXQpXG4gICAgICAgIHRoaXMuaGlkZUNhcmV0KClcbiAgICAgICAgdGhpcy5zZWxEaXZzID0gW107XG4gICAgICAgIHRoaXMuY29tcG9zaXRpb25EaXZzID0gW107XG5cbiAgICAgICAgc3RvcmUuJHdhdGNoKCdlZGl0b3JTaXplJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZXNpemUoc3RvcmUuc3RhdGUuZWRpdG9yU2l6ZS53aWR0aCwgc3RvcmUuc3RhdGUuZWRpdG9yU2l6ZS5oZWlnaHQpO1xuICAgICAgICB9KTtcbiAgICAgICAgc3RvcmUuJHdhdGNoKCdzY3JvbGwnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBvZmZzZXQgPVxuICAgICAgICAgICAgICAgIHRoaXMuJGVsLnNjcm9sbFdpZHRoIC1cbiAgICAgICAgICAgICAgICB0aGlzLiRlbC5jbGllbnRXaWR0aCAtXG4gICAgICAgICAgICAgICAgc3RvcmUuc3RhdGUuc2Nyb2xsO1xuICAgICAgICAgICAgdGhpcy4kZWwuc2Nyb2xsVG8ob2Zmc2V0LCAwKVxuICAgICAgICB9KVxuICAgICAgICBzdG9yZS4kd2F0Y2goJ3Njcm9sbFdpZHRoJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy4kZWwuc3R5bGUud2lkdGggPSBzdG9yZS5zdGF0ZS5zY3JvbGxXaWR0aCArIFwicHhcIlxuICAgICAgICB9KVxuXG4gICAgICAgIHN0b3JlLiR3YXRjaCgnc2VsZWN0ZWRSZWN0cycsICgpID0+IHtcbiAgICAgICAgICAgIHN0b3JlLmlzUmVnaW9uU2VsZWN0ZWQgPyB0aGlzLnJlbmRlclNlbGVjdGlvbnMoKSA6IHRoaXMucmVuZGVyU2VsZWN0aW9ucygpXG4gICAgICAgIH0pO1xuICAgICAgICBzdG9yZS4kd2F0Y2goWydjYXJldFBvcyddLCAoKSA9PlxuICAgICAgICAgICAgc3RvcmUuaXNSZWdpb25TZWxlY3RlZCA/IHRoaXMuaGlkZUNhcmV0KCkgOiB0aGlzLm1vdmVDYXJldCgpXG4gICAgICAgIClcbiAgICAgICAgc3RvcmUuJHdhdGNoKCdmb2N1cycsICgpID0+IHtcbiAgICAgICAgICAgIGlmIChzdG9yZS5zdGF0ZS5mb2N1cykge1xuICAgICAgICAgICAgICAgIHRoaXMubW92ZUNhcmV0KClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlQ2FyZXQoKVxuICAgICAgICAgICAgICAgIHRoaXMucmVzZXRTZWxlY3Rpb24oKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBzdG9yZS4kd2F0Y2goJ2NvbXBvc2l0aW9uUmVjdHMnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZWN0cyA9IHN0b3JlLnN0YXRlLmNvbXBvc2l0aW9uUmVjdHNcbiAgICAgICAgICAgIHRoaXMucmVzZXRDb21wb3NpdGlvblJlY3RzKClcbiAgICAgICAgICAgIHJlY3RzLmZvckVhY2gociA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGl2ID0gdGhpcy5oKCdkaXYnLCAna29qaS1lZGl0b3ItY29tcG9zaXRpb24tYmFyJylcbiAgICAgICAgICAgICAgICBkaXYuc3R5bGUudG9wID0gci55ICsgXCJweFwiXG4gICAgICAgICAgICAgICAgZGl2LnN0eWxlLmxlZnQgPSByLnggKyBcInB4XCJcbiAgICAgICAgICAgICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gci5oZWlnaHQgKyBcInB4XCJcbiAgICAgICAgICAgICAgICBkaXYuc3R5bGUud2lkdGggPSByLndpZHRoICsgXCJweFwiXG4gICAgICAgICAgICAgICAgdGhpcy5jb21wb3NpdGlvbkRpdnMucHVzaChkaXYpXG4gICAgICAgICAgICAgICAgdGhpcy4kZWwuYXBwZW5kQ2hpbGQoZGl2KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICByZXNldENvbXBvc2l0aW9uUmVjdHMoKSB7XG4gICAgICAgIHRoaXMuY29tcG9zaXRpb25EaXZzLmZvckVhY2goZGl2ID0+IHtcbiAgICAgICAgICAgIGRpdi5yZW1vdmUoKVxuICAgICAgICB9KVxuICAgICAgICB0aGlzLmNvbXBvc2l0aW9uRGl2cyA9IFtdXG4gICAgfVxuXG4gICAgbW92ZUNhcmV0KCkge1xuICAgICAgICB0aGlzLmNhcmV0LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCJcbiAgICAgICAgdGhpcy5jYXJldC5zdHlsZS50b3AgPSBzdG9yZS5zdGF0ZS5jYXJldFBvcy55ICsgXCJweFwiXG4gICAgICAgIHRoaXMuY2FyZXQuc3R5bGUubGVmdCA9IHN0b3JlLnN0YXRlLmNhcmV0UG9zLnggKyBcInB4XCJcbiAgICB9XG5cbiAgICBoaWRlQ2FyZXQoKSB7XG4gICAgICAgIHRoaXMuY2FyZXQuc3R5bGVbJ2Rpc3BsYXknXSA9ICdub25lJ1xuICAgIH1cblxuICAgIHJlbmRlclNlbGVjdGlvbnMoKSB7XG4gICAgICAgIGNvbnN0IHJlY3RzID0gc3RvcmUuc3RhdGUuc2VsZWN0ZWRSZWN0cztcbiAgICAgICAgdGhpcy5yZXNldFNlbGVjdGlvbigpO1xuICAgICAgICByZWN0cy5mb3JFYWNoKHJlY3QgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgIGRpdi5jbGFzc0xpc3QuYWRkKCdrb2ppLWVkaXRvci1zZWxlY3Rpb24nKTtcbiAgICAgICAgICAgIGRpdi5zdHlsZS53aWR0aCA9IGAke3JlY3Qud2lkdGh9cHhgO1xuICAgICAgICAgICAgZGl2LnN0eWxlLmhlaWdodCA9IGAke3JlY3QuaGVpZ2h0fXB4YDtcbiAgICAgICAgICAgIGRpdi5zdHlsZS50b3AgPSBgJHtyZWN0LnRvcH1weGA7XG4gICAgICAgICAgICBkaXYuc3R5bGUubGVmdCA9IGAke3JlY3QubGVmdH1weGA7XG4gICAgICAgICAgICB0aGlzLnNlbERpdnMucHVzaChkaXYpO1xuICAgICAgICAgICAgdGhpcy4kZWwuYXBwZW5kQ2hpbGQoZGl2KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmVzZXRTZWxlY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuc2VsRGl2cy5mb3JFYWNoKGRpdiA9PiBkaXYucmVtb3ZlKCkpO1xuICAgICAgICB0aGlzLnNlbERpdnMgPSBbXTtcbiAgICB9XG5cbiAgICByZXNpemUod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy4kZWwuc3R5bGUud2lkdGggPSB3aWR0aCArIFwicHhcIjtcbiAgICAgICAgdGhpcy4kZWwuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0ICsgXCJweFwiO1xuICAgIH1cblxuXG5cbn0iXSwic291cmNlUm9vdCI6IiJ9